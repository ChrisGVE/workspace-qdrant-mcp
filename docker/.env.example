# Environment Configuration for Workspace Qdrant MCP
# Copy this file to .env and configure according to your environment

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Version and Environment
VERSION=latest
ENVIRONMENT=production
LOG_LEVEL=INFO

# Application Server Configuration
WORKSPACE_QDRANT_HOST=0.0.0.0
WORKSPACE_QDRANT_PORT=8000
WORKSPACE_QDRANT_LOG_LEVEL=${LOG_LEVEL}
WORKSPACE_QDRANT_ENV=${ENVIRONMENT}
WORKSPACE_QDRANT_DEBUG=false

# Worker Configuration
UVICORN_WORKERS=4
UVICORN_BACKLOG=2048
UVICORN_KEEP_ALIVE=5

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Qdrant Vector Database Configuration
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_API_KEY=your-secure-qdrant-api-key-change-me
QDRANT_LOG_LEVEL=${LOG_LEVEL}

# Qdrant Performance Settings
QDRANT_WAL_CAPACITY_MB=64
QDRANT_WAL_SEGMENTS_AHEAD=2
QDRANT_MAX_SEARCH_THREADS=0
QDRANT_MAX_OPTIMIZATION_THREADS=2

# Redis Cache Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password-change-me
REDIS_MAX_MEMORY=1gb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Application Security
APP_SECRET_KEY=your-super-secret-app-key-change-me-minimum-32-chars
JWT_SECRET=your-jwt-secret-key-change-me
JWT_EXPIRATION=3600

# SSL/TLS Configuration
TLS_ENABLED=true
TLS_CERT_PATH=./ssl/cert.pem
TLS_KEY_PATH=./ssl/key.pem

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# External Ports
HTTP_PORT=80
HTTPS_PORT=443
WQM_PORT=8000

# Qdrant External Ports
QDRANT_HTTP_PORT=6333
QDRANT_GRPC_PORT=6334

# Cache External Port
REDIS_PORT=6379

# ============================================================================
# MONITORING AND OBSERVABILITY
# ============================================================================

# Prometheus Configuration
PROMETHEUS_PORT=9090
PROMETHEUS_LOG_LEVEL=info
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_EXTERNAL_URL=http://localhost:9090

# Grafana Configuration
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password-change-me
GRAFANA_LOG_LEVEL=info
GRAFANA_ROOT_URL=http://localhost:3000

# Alertmanager Configuration
ALERTMANAGER_PORT=9093
ALERTMANAGER_EXTERNAL_URL=http://localhost:9093

# Jaeger Tracing Configuration
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268
JAEGER_LOG_LEVEL=info

# Loki Logging Configuration
LOKI_PORT=3100

# Node Exporter Configuration
NODE_EXPORTER_PORT=9100

# ============================================================================
# STORAGE CONFIGURATION
# ============================================================================

# Volume Paths (for bind mounts)
WORKSPACE_DATA_DIR=./volumes/workspace/data
WORKSPACE_LOGS_DIR=./volumes/workspace/logs
WORKSPACE_TMP_DIR=./volumes/workspace/tmp

# Qdrant Storage
QDRANT_STORAGE_DIR=./volumes/qdrant/storage
QDRANT_SNAPSHOTS_DIR=./volumes/qdrant/snapshots
QDRANT_LOGS_DIR=./volumes/qdrant/logs

# Redis Storage
REDIS_DATA_DIR=./volumes/redis/data

# Monitoring Storage
PROMETHEUS_DATA_DIR=./volumes/prometheus/data
GRAFANA_DATA_DIR=./volumes/grafana/data
LOKI_DATA_DIR=./volumes/loki/data
JAEGER_DATA_DIR=./volumes/jaeger/data

# Backup Storage
BACKUP_DIR=./backup
BACKUP_RETENTION_DAYS=30

# ============================================================================
# DEVELOPMENT CONFIGURATION
# ============================================================================

# Development-only settings (used in docker-compose.dev.yml)
WORKSPACE_DIR=./workspace
DEBUG_PORT=5678

# Development Tools Ports
QDRANT_UI_PORT=8080
REDIS_INSIGHT_PORT=8001
DOCS_PORT=8002

# Hot Reload Configuration
WATCHFILES_FORCE_POLLING=true
PYTEST_CURRENT_TEST=1

# ============================================================================
# CONTAINER REGISTRY CONFIGURATION
# ============================================================================

# Docker Registry Settings
REGISTRY=docker.io
REGISTRY_NAMESPACE=chrisgve
REGISTRY_USERNAME=your-registry-username
REGISTRY_PASSWORD=your-registry-password-or-token

# Image Configuration
IMAGE_NAME=workspace-qdrant-mcp
IMAGE_TAG=${VERSION}
PLATFORMS=linux/amd64,linux/arm64

# ============================================================================
# KUBERNETES CONFIGURATION
# ============================================================================

# Kubernetes-specific settings (when applicable)
KUBERNETES_NAMESPACE=workspace-qdrant-mcp
KUBERNETES_CLUSTER_NAME=production-cluster

# Resource Limits
CPU_REQUEST=500m
CPU_LIMIT=2000m
MEMORY_REQUEST=1Gi
MEMORY_LIMIT=4Gi

# Storage Classes
STORAGE_CLASS_FAST=fast-ssd
STORAGE_CLASS_STANDARD=standard

# ============================================================================
# CLOUD PROVIDER CONFIGURATION
# ============================================================================

# AWS Configuration (if applicable)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# S3 Backup Configuration
S3_BACKUP_BUCKET=workspace-qdrant-backups
S3_BACKUP_PREFIX=production/

# Azure Configuration (if applicable)
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id
AZURE_RESOURCE_GROUP=workspace-qdrant-rg
AZURE_STORAGE_ACCOUNT=workspaceqdrantstorage

# GCP Configuration (if applicable)
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Application Performance
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30
KEEP_ALIVE_TIMEOUT=5
MAX_REQUEST_SIZE=100mb

# Database Connection Pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# BACKUP AND RECOVERY
# ============================================================================

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key-change-me
BACKUP_COMPRESSION=true

# Recovery Settings
RECOVERY_POINT_OBJECTIVE=1h  # RPO: Maximum acceptable data loss
RECOVERY_TIME_OBJECTIVE=30m  # RTO: Maximum acceptable downtime

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Application Features
ENABLE_API_DOCS=true
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_DEBUG_ENDPOINTS=false

# Experimental Features
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_ADVANCED_SEARCH=true
ENABLE_DOCUMENT_PREVIEW=true

# ============================================================================
# INTEGRATION CONFIGURATION
# ============================================================================

# External Service URLs
EXTERNAL_API_BASE_URL=https://api.example.com
WEBHOOK_URL=https://webhooks.example.com/workspace-qdrant-mcp

# Third-party Service Keys
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key

# ============================================================================
# COMPLIANCE AND AUDIT
# ============================================================================

# Audit Logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_RETENTION=90d

# Compliance Settings
GDPR_COMPLIANCE=true
CCPA_COMPLIANCE=true
HIPAA_COMPLIANCE=false

# Data Retention
DATA_RETENTION_POLICY=2y
LOG_RETENTION_POLICY=1y
METRIC_RETENTION_POLICY=15d

# ============================================================================
# CUSTOM CONFIGURATION
# ============================================================================

# Add any custom environment variables your deployment needs
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2

# ============================================================================
# NOTES AND WARNINGS
# ============================================================================

# SECURITY WARNING:
# - Change all default passwords and API keys
# - Use strong, unique passwords for each service
# - Never commit secrets to version control
# - Use proper secrets management in production

# PERFORMANCE NOTE:
# - Adjust resource limits based on your workload
# - Monitor resource usage and scale accordingly
# - Tune database settings for your use case

# BACKUP WARNING:
# - Test backup and recovery procedures regularly
# - Store backups in multiple locations
# - Encrypt sensitive backup data

# MONITORING REMINDER:
# - Set up proper alerting for critical metrics
# - Monitor disk space, memory, and CPU usage
# - Review logs regularly for issues

# ============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# ============================================================================

# For Development:
# LOG_LEVEL=DEBUG
# WORKSPACE_QDRANT_DEBUG=true
# ENABLE_DEBUG_ENDPOINTS=true
# REPLICAS=1

# For Staging:
# LOG_LEVEL=INFO
# WORKSPACE_QDRANT_ENV=staging
# ENABLE_API_DOCS=true
# REPLICAS=2

# For Production:
# LOG_LEVEL=WARN
# WORKSPACE_QDRANT_ENV=production
# ENABLE_API_DOCS=false
# ENABLE_DEBUG_ENDPOINTS=false
# REPLICAS=3