[2m2025-09-23T15:58:50.399410Z[0m [32m INFO[0m [2mcargo_tarpaulin::config[0m[2m:[0m Creating config
[2m2025-09-23T15:58:50.962727Z[0m [32m INFO[0m [2mcargo_tarpaulin[0m[2m:[0m Running Tarpaulin
[2m2025-09-23T15:58:50.962756Z[0m [32m INFO[0m [2mcargo_tarpaulin[0m[2m:[0m Building project
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.62s
[2m2025-09-23T15:58:52.476722Z[0m [32m INFO[0m [2mcargo_tarpaulin::process_handling[0m[2m:[0m running /Users/chris/dev/ai/claude-code-cfg/mcp/workspace-qdrant-mcp/rust-engine/target/debug/deps/workspace_qdrant_daemon-3212605e12b708f6
[2m2025-09-23T15:58:52.477000Z[0m [32m INFO[0m [2mcargo_tarpaulin::process_handling[0m[2m:[0m Setting LLVM_PROFILE_FILE

running 260 tests
test config::tests::test_config_structs_are_send_sync ... ok
test config::tests::test_collection_config_standalone ... ok
test config::tests::test_daemon_config_default ... ok
test config::tests::test_env_port_parsing_error ... ok
test config::tests::test_daemon_config_debug_clone ... ok
test config::tests::test_from_env ... ok
test config::tests::test_load_config_nonexistent_file ... ok
test config::tests::test_validate_config_empty_database_path ... ok
test config::tests::test_validate_config_empty_qdrant_url ... ok
test config::tests::test_validate_config_invalid_port ... ok
test config::tests::test_validate_config_valid ... ok
test config::tests::test_validate_config_zero_chunk_size ... ok
test daemon::core::tests::test_daemon_core_is_unit_struct ... ok
test daemon::core::tests::test_daemon_core_new ... ok
test config::tests::test_config_with_serde_defaults ... ok
test daemon::core::tests::test_get_system_info ... ok
test daemon::core::tests::test_get_total_memory ... ok
test config::tests::test_load_config_invalid_file ... ok
test daemon::core::tests::test_system_info_clone ... ok
test daemon::core::tests::test_system_info_debug ... ok
test daemon::processing::tests::test_instance_creation ... ok
test config::tests::test_load_config_from_file ... ok
test daemon::processing::tests::test_debug_implementation ... ok
test daemon::processing::tests::test_config_access ... ok
[2m2025-09-23T15:58:52.510879Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.510855Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test daemon::processing::tests::test_document_processor_new ... ok
[2m2025-09-23T15:58:52.510937Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 1
test daemon::processing::tests::test_processor_struct_fields ... ok
[2m2025-09-23T15:58:52.511128Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 5
[2m2025-09-23T15:58:52.511244Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.510978Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: debug_test.rs
test daemon::processing::tests::test_info_logging_coverage ... ok
[2m2025-09-23T15:58:52.511071Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.511387Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 1
test config::tests::test_serialization_roundtrip ... ok
test daemon::processing::tests::test_processor_with_different_configs ... ok
[2m2025-09-23T15:58:52.511588Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test daemon::processing::tests::test_semaphore_error_handling ... ok
[2m2025-09-23T15:58:52.511561Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test1.rs
[2m2025-09-23T15:58:52.511692Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.511694Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file with spaces.rs
test daemon::processing::tests::test_qdrant_config_variants ... ok
[2m2025-09-23T15:58:52.511917Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.511798Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test config::tests::test_save_config ... ok
[2m2025-09-23T15:58:52.511970Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.rs
[2m2025-09-23T15:58:52.511986Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test.rs
[2m2025-09-23T15:58:52.511847Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: файл.rs
[2m2025-09-23T15:58:52.512127Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.512185Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
test config::tests::test_load_config_no_file ... FAILED
[2m2025-09-23T15:58:52.513361Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m126.663µs [3melapsed_secs[0m[2m=[0m0.000126663
[2m2025-09-23T15:58:52.513369Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m127.803µs [3melapsed_secs[0m[2m=[0m0.000127803
[2m2025-09-23T15:58:52.513503Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.513504Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.513524Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.514254Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.134µs [3melapsed_secs[0m[2m=[0m3.4134e-5
[2m2025-09-23T15:58:52.514384Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.514611Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m851.292µs [3melapsed_secs[0m[2m=[0m0.000851292
[2m2025-09-23T15:58:52.514776Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.020358ms [3melapsed_secs[0m[2m=[0m0.001020358
[2m2025-09-23T15:58:52.514919Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m373.455µs [3melapsed_secs[0m[2m=[0m0.000373455
[2m2025-09-23T15:58:52.515135Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m67.723µs [3melapsed_secs[0m[2m=[0m6.7723e-5
[2m2025-09-23T15:58:52.515136Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m57.716µs [3melapsed_secs[0m[2m=[0m5.7716e-5
[2m2025-09-23T15:58:52.515284Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.379µs [3melapsed_secs[0m[2m=[0m3.0379e-5
[2m2025-09-23T15:58:52.515973Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m668.282µs [3melapsed_secs[0m[2m=[0m0.000668282
[2m2025-09-23T15:58:52.515988Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m705.353µs [3melapsed_secs[0m[2m=[0m0.000705353
[2m2025-09-23T15:58:52.516075Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m633.304µs [3melapsed_secs[0m[2m=[0m0.000633304
[2m2025-09-23T15:58:52.516785Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m574.633µs [3melapsed_secs[0m[2m=[0m0.000574633
[2m2025-09-23T15:58:52.516818Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m586.869µs [3melapsed_secs[0m[2m=[0m0.000586869
[2m2025-09-23T15:58:52.516854Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m545.239µs [3melapsed_secs[0m[2m=[0m0.000545239
[2m2025-09-23T15:58:52.516879Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.516924Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.516952Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.517072Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m41.382µs [3melapsed_secs[0m[2m=[0m4.1382e-5
test daemon::state::tests::test_daemon_state_new_basic ... ok
[2m2025-09-23T15:58:52.517407Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.517630Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m331.847µs [3melapsed_secs[0m[2m=[0m0.000331847
[2m2025-09-23T15:58:52.517851Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m27.075µs [3melapsed_secs[0m[2m=[0m2.7075e-5
test daemon::state::tests::test_all_code_paths_covered ... ok
[2m2025-09-23T15:58:52.518246Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m421.627µs [3melapsed_secs[0m[2m=[0m0.000421627
[2m2025-09-23T15:58:52.518287Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m672.761µs [3melapsed_secs[0m[2m=[0m0.000672761
[2m2025-09-23T15:58:52.518304Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m511.583µs [3melapsed_secs[0m[2m=[0m0.000511583
[2m2025-09-23T15:58:52.518320Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.518363Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m43.1µs [3melapsed_secs[0m[2m=[0m4.31e-5
[2m2025-09-23T15:58:52.518960Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m424.689µs [3melapsed_secs[0m[2m=[0m0.000424689
[2m2025-09-23T15:58:52.518991Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m166.968µs [3melapsed_secs[0m[2m=[0m0.000166968
[2m2025-09-23T15:58:52.519009Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m429.735µs [3melapsed_secs[0m[2m=[0m0.000429735
[2m2025-09-23T15:58:52.518971Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m416.856µs [3melapsed_secs[0m[2m=[0m0.000416856
[2m2025-09-23T15:58:52.519097Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.352µs [3melapsed_secs[0m[2m=[0m3.7352e-5
[2m2025-09-23T15:58:52.518968Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m296.769µs [3melapsed_secs[0m[2m=[0m0.000296769
[2m2025-09-23T15:58:52.519023Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m431.859µs [3melapsed_secs[0m[2m=[0m0.000431859
[2m2025-09-23T15:58:52.519203Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m38.453µs [3melapsed_secs[0m[2m=[0m3.8453e-5
[2m2025-09-23T15:58:52.519222Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.278µs [3melapsed_secs[0m[2m=[0m4.1278e-5
[2m2025-09-23T15:58:52.519244Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m41.997µs [3melapsed_secs[0m[2m=[0m4.1997e-5
[2m2025-09-23T15:58:52.519283Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m36.058µs [3melapsed_secs[0m[2m=[0m3.6058e-5
[2m2025-09-23T15:58:52.519324Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.519276Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m53.393µs [3melapsed_secs[0m[2m=[0m5.3393e-5
[2m2025-09-23T15:58:52.519270Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.975µs [3melapsed_secs[0m[2m=[0m4.1975e-5
[2m2025-09-23T15:58:52.519428Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m32.171µs [3melapsed_secs[0m[2m=[0m3.2171e-5
[2m2025-09-23T15:58:52.519355Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m44.218µs [3melapsed_secs[0m[2m=[0m4.4218e-5
[2m2025-09-23T15:58:52.519487Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.519498Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m40.151µs [3melapsed_secs[0m[2m=[0m4.0151e-5
test daemon::state::tests::test_concurrent_health_checks ... ok
[2m2025-09-23T15:58:52.520002Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.521211Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.713951ms [3melapsed_secs[0m[2m=[0m0.001713951
[2m2025-09-23T15:58:52.521234Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.69µs [3melapsed_secs[0m[2m=[0m3.569e-5
[2m2025-09-23T15:58:52.521345Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.521396Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.778185ms [3melapsed_secs[0m[2m=[0m0.001778185
[2m2025-09-23T15:58:52.521695Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.247µs [3melapsed_secs[0m[2m=[0m3.8247e-5
[2m2025-09-23T15:58:52.521875Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.537µs [3melapsed_secs[0m[2m=[0m3.9537e-5
[2m2025-09-23T15:58:52.522183Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m684.893µs [3melapsed_secs[0m[2m=[0m0.000684893
[2m2025-09-23T15:58:52.522208Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m368.191µs [3melapsed_secs[0m[2m=[0m0.000368191
[2m2025-09-23T15:58:52.522296Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m261.337µs [3melapsed_secs[0m[2m=[0m0.000261337
[2m2025-09-23T15:58:52.522495Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.505µs [3melapsed_secs[0m[2m=[0m4.0505e-5
[2m2025-09-23T15:58:52.522764Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m321.049µs [3melapsed_secs[0m[2m=[0m0.000321049
[2m2025-09-23T15:58:52.522834Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.522885Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m390.19µs [3melapsed_secs[0m[2m=[0m0.00039019
[2m2025-09-23T15:58:52.522971Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test daemon::state::tests::test_daemon_state_new_custom_config ... ok
[2m2025-09-23T15:58:52.523117Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m485.78µs [3melapsed_secs[0m[2m=[0m0.00048578
[2m2025-09-23T15:58:52.523134Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m34.556µs [3melapsed_secs[0m[2m=[0m3.4556e-5
[2m2025-09-23T15:58:52.523201Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
test daemon::state::tests::test_daemon_state_new_with_wal ... ok
[2m2025-09-23T15:58:52.523519Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.523652Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.291µs [3melapsed_secs[0m[2m=[0m3.1291e-5
[2m2025-09-23T15:58:52.523707Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m394.051µs [3melapsed_secs[0m[2m=[0m0.000394051
[2m2025-09-23T15:58:52.523735Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.523787Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.523851Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.738µs [3melapsed_secs[0m[2m=[0m2.9738e-5
[2m2025-09-23T15:58:52.523923Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.523953Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m57.702µs [3melapsed_secs[0m[2m=[0m5.7702e-5
[2m2025-09-23T15:58:52.524028Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.524183Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m314.421µs [3melapsed_secs[0m[2m=[0m0.000314421
[2m2025-09-23T15:58:52.524633Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m583.587µs [3melapsed_secs[0m[2m=[0m0.000583587
[2m2025-09-23T15:58:52.524809Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.141µs [3melapsed_secs[0m[2m=[0m3.8141e-5
[2m2025-09-23T15:58:52.524821Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.597µs [3melapsed_secs[0m[2m=[0m3.7597e-5
[2m2025-09-23T15:58:52.524899Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.524969Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.569µs [3melapsed_secs[0m[2m=[0m3.1569e-5
[2m2025-09-23T15:58:52.525366Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m393.715µs [3melapsed_secs[0m[2m=[0m0.000393715
[2m2025-09-23T15:58:52.525619Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m525.676µs [3melapsed_secs[0m[2m=[0m0.000525676
[2m2025-09-23T15:58:52.525640Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m609.465µs [3melapsed_secs[0m[2m=[0m0.000609465
[2m2025-09-23T15:58:52.525769Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m222.615µs [3melapsed_secs[0m[2m=[0m0.000222615
[2m2025-09-23T15:58:52.525854Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.525996Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m32.225µs [3melapsed_secs[0m[2m=[0m3.2225e-5
[2m2025-09-23T15:58:52.526025Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.281µs [3melapsed_secs[0m[2m=[0m3.2281e-5
[2m2025-09-23T15:58:52.526048Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m229.067µs [3melapsed_secs[0m[2m=[0m0.000229067
[2m2025-09-23T15:58:52.526062Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.526130Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.526664Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m523.037µs [3melapsed_secs[0m[2m=[0m0.000523037
[2m2025-09-23T15:58:52.526758Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('test', 'Test Project', '/test/path')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m499.13µs [3melapsed_secs[0m[2m=[0m0.00049913
[2m2025-09-23T15:58:52.526836Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.121µs [3melapsed_secs[0m[2m=[0m3.7121e-5
[2m2025-09-23T15:58:52.526929Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.526973Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT COUNT(*) FROM projects" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m57.288µs [3melapsed_secs[0m[2m=[0m5.7288e-5
[2m2025-09-23T15:58:52.527108Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m197.554µs [3melapsed_secs[0m[2m=[0m0.000197554
test daemon::state::tests::test_database_operations_after_init ... ok
[2m2025-09-23T15:58:52.527195Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.527377Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: invalid://path
[2m2025-09-23T15:58:52.527428Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m82.468µs [3melapsed_secs[0m[2m=[0m8.2468e-5
test daemon::state::tests::test_database_config_edge_cases ... ok
[2m2025-09-23T15:58:52.527769Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m653.081µs [3melapsed_secs[0m[2m=[0m0.000653081
[2m2025-09-23T15:58:52.527847Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
test daemon::state::tests::test_error_handling_coverage ... ok
[2m2025-09-23T15:58:52.528105Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.736µs [3melapsed_secs[0m[2m=[0m3.0736e-5
[2m2025-09-23T15:58:52.528130Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.528195Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.061µs [3melapsed_secs[0m[2m=[0m3.9061e-5
[2m2025-09-23T15:58:52.528283Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.528539Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m285.471µs [3melapsed_secs[0m[2m=[0m0.000285471
[2m2025-09-23T15:58:52.528608Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.319µs [3melapsed_secs[0m[2m=[0m3.4319e-5
[2m2025-09-23T15:58:52.528704Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.528721Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m281.175µs [3melapsed_secs[0m[2m=[0m0.000281175
[2m2025-09-23T15:58:52.528963Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m226.185µs [3melapsed_secs[0m[2m=[0m0.000226185
[2m2025-09-23T15:58:52.529043Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.529148Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.738µs [3melapsed_secs[0m[2m=[0m3.1738e-5
[2m2025-09-23T15:58:52.529194Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m39.304µs [3melapsed_secs[0m[2m=[0m3.9304e-5
[2m2025-09-23T15:58:52.529236Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m377.959µs [3melapsed_secs[0m[2m=[0m0.000377959
[2m2025-09-23T15:58:52.529274Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.529548Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m279.988µs [3melapsed_secs[0m[2m=[0m0.000279988
[2m2025-09-23T15:58:52.529618Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.094µs [3melapsed_secs[0m[2m=[0m3.3094e-5
[2m2025-09-23T15:58:52.529903Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.698µs [3melapsed_secs[0m[2m=[0m3.1698e-5
[2m2025-09-23T15:58:52.529970Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.530098Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m357.707µs [3melapsed_secs[0m[2m=[0m0.000357707
[2m2025-09-23T15:58:52.530163Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.530168Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m409.539µs [3melapsed_secs[0m[2m=[0m0.000409539
[2m2025-09-23T15:58:52.530312Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m33.948µs [3melapsed_secs[0m[2m=[0m3.3948e-5
[2m2025-09-23T15:58:52.530333Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m246.573µs [3melapsed_secs[0m[2m=[0m0.000246573
[2m2025-09-23T15:58:52.530494Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m33.075µs [3melapsed_secs[0m[2m=[0m3.3075e-5
[2m2025-09-23T15:58:52.530541Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m180.692µs [3melapsed_secs[0m[2m=[0m0.000180692
[2m2025-09-23T15:58:52.530617Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.530639Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.079µs [3melapsed_secs[0m[2m=[0m3.0079e-5
[2m2025-09-23T15:58:52.530677Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m15.043µs [3melapsed_secs[0m[2m=[0m1.5043e-5
[2m2025-09-23T15:58:52.530758Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m29.141µs [3melapsed_secs[0m[2m=[0m2.9141e-5
[2m2025-09-23T15:58:52.530857Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m14.684µs [3melapsed_secs[0m[2m=[0m1.4684e-5
[2m2025-09-23T15:58:52.530938Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m172.987µs [3melapsed_secs[0m[2m=[0m0.000172987
[2m2025-09-23T15:58:52.530954Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m36.651µs [3melapsed_secs[0m[2m=[0m3.6651e-5
test daemon::state::tests::test_health_check_error_recovery ... ok
[2m2025-09-23T15:58:52.531184Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m18.344µs [3melapsed_secs[0m[2m=[0m1.8344e-5
[2m2025-09-23T15:58:52.531250Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.531310Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m173.511µs [3melapsed_secs[0m[2m=[0m0.000173511
[2m2025-09-23T15:58:52.531337Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m11.864µs [3melapsed_secs[0m[2m=[0m1.1864e-5
[2m2025-09-23T15:58:52.531382Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.531507Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m12.457µs [3melapsed_secs[0m[2m=[0m1.2457e-5
[2m2025-09-23T15:58:52.531558Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m50.413µs [3melapsed_secs[0m[2m=[0m5.0413e-5
[2m2025-09-23T15:58:52.531601Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.527µs [3melapsed_secs[0m[2m=[0m3.2527e-5
test daemon::state::tests::test_health_check_multiple_calls ... ok
[2m2025-09-23T15:58:52.531692Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test daemon::state::tests::test_database_config_variations ... ok
[2m2025-09-23T15:58:52.531927Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: /invalid/path/db.sqlite
[2m2025-09-23T15:58:52.531971Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
test daemon::state::tests::test_invalid_database_path ... ok
[2m2025-09-23T15:58:52.532374Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m497.914µs [3melapsed_secs[0m[2m=[0m0.000497914
[2m2025-09-23T15:58:52.532398Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.233µs [3melapsed_secs[0m[2m=[0m3.3233e-5
[2m2025-09-23T15:58:52.532471Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.532478Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.532630Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.134µs [3melapsed_secs[0m[2m=[0m2.9134e-5
[2m2025-09-23T15:58:52.532920Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m28.792µs [3melapsed_secs[0m[2m=[0m2.8792e-5
[2m2025-09-23T15:58:52.532987Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.533117Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m496.755µs [3melapsed_secs[0m[2m=[0m0.000496755
[2m2025-09-23T15:58:52.533190Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m455.301µs [3melapsed_secs[0m[2m=[0m0.000455301
[2m2025-09-23T15:58:52.533362Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m257.575µs [3melapsed_secs[0m[2m=[0m0.000257575
[2m2025-09-23T15:58:52.533413Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.959µs [3melapsed_secs[0m[2m=[0m3.1959e-5
[2m2025-09-23T15:58:52.533552Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m168.368µs [3melapsed_secs[0m[2m=[0m0.000168368
[2m2025-09-23T15:58:52.533628Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.533644Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.958µs [3melapsed_secs[0m[2m=[0m3.1958e-5
[2m2025-09-23T15:58:52.533722Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m162.308µs [3melapsed_secs[0m[2m=[0m0.000162308
[2m2025-09-23T15:58:52.533785Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m34.609µs [3melapsed_secs[0m[2m=[0m3.4609e-5
test daemon::state::tests::test_health_check_success ... ok
[2m2025-09-23T15:58:52.534134Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.534281Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m490.755µs [3melapsed_secs[0m[2m=[0m0.000490755
[2m2025-09-23T15:58:52.534473Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m579.58µs [3melapsed_secs[0m[2m=[0m0.00057958
[2m2025-09-23T15:58:52.534547Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.534580Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.682µs [3melapsed_secs[0m[2m=[0m2.9682e-5
[2m2025-09-23T15:58:52.534628Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m177.442µs [3melapsed_secs[0m[2m=[0m0.000177442
[2m2025-09-23T15:58:52.534653Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.534694Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.534692Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m33.134µs [3melapsed_secs[0m[2m=[0m3.3134e-5
test daemon::state::tests::test_migration_logging_paths ... ok
[2m2025-09-23T15:58:52.535057Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.535172Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA table_info(collections)" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m5 [3melapsed[0m[2m=[0m345.165µs [3melapsed_secs[0m[2m=[0m0.000345165
test daemon::state::tests::test_migrations_collections_schema ... ok
[2m2025-09-23T15:58:52.535475Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m681.786µs [3melapsed_secs[0m[2m=[0m0.000681786
[2m2025-09-23T15:58:52.535632Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.535627Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.176µs [3melapsed_secs[0m[2m=[0m3.7176e-5
[2m2025-09-23T15:58:52.535749Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.535785Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.724µs [3melapsed_secs[0m[2m=[0m3.1724e-5
[2m2025-09-23T15:58:52.535975Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.502µs [3melapsed_secs[0m[2m=[0m4.1502e-5
[2m2025-09-23T15:58:52.536052Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.536469Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m559.328µs [3melapsed_secs[0m[2m=[0m0.000559328
[2m2025-09-23T15:58:52.536529Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m642.612µs [3melapsed_secs[0m[2m=[0m0.000642612
[2m2025-09-23T15:58:52.536637Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m464.736µs [3melapsed_secs[0m[2m=[0m0.000464736
[2m2025-09-23T15:58:52.536867Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m48.055µs [3melapsed_secs[0m[2m=[0m4.8055e-5
[2m2025-09-23T15:58:52.536884Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m239.749µs [3melapsed_secs[0m[2m=[0m0.000239749
[2m2025-09-23T15:58:52.536989Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.537042Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m63.049µs [3melapsed_secs[0m[2m=[0m6.3049e-5
[2m2025-09-23T15:58:52.537278Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT name FROM sqlite_master …" [3mdb.statement[0m[2m=[0m"\n\nSELECT name FROM sqlite_master WHERE type='table' AND name='projects'\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m134.967µs [3melapsed_secs[0m[2m=[0m0.000134967
[2m2025-09-23T15:58:52.537334Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m296.002µs [3melapsed_secs[0m[2m=[0m0.000296002
[2m2025-09-23T15:58:52.537458Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m260.635µs [3melapsed_secs[0m[2m=[0m0.000260635
[2m2025-09-23T15:58:52.537590Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT name FROM sqlite_master …" [3mdb.statement[0m[2m=[0m"\n\nSELECT name FROM sqlite_master WHERE type='table' AND name='collections'\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m72.048µs [3melapsed_secs[0m[2m=[0m7.2048e-5
[2m2025-09-23T15:58:52.537944Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT name FROM sqlite_master …" [3mdb.statement[0m[2m=[0m"\n\nSELECT name FROM sqlite_master WHERE type='table' AND name='processing_operations'\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m181.542µs [3melapsed_secs[0m[2m=[0m0.000181542
[2m2025-09-23T15:58:52.537965Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m389.566µs [3melapsed_secs[0m[2m=[0m0.000389566
[2m2025-09-23T15:58:52.538051Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.538071Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m401.551µs [3melapsed_secs[0m[2m=[0m0.000401551
[2m2025-09-23T15:58:52.538166Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test daemon::state::tests::test_migrations_create_all_tables ... ok
[2m2025-09-23T15:58:52.538326Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('minimal-project', 'Minimal Project', '/minimal')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m101.945µs [3melapsed_secs[0m[2m=[0m0.000101945
[2m2025-09-23T15:58:52.538345Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m21.574µs [3melapsed_secs[0m[2m=[0m2.1574e-5
[2m2025-09-23T15:58:52.538397Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.538562Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT created_at, updated_at FROM …" [3mdb.statement[0m[2m=[0m"\n\nSELECT created_at, updated_at FROM projects WHERE id = 'minimal-project'\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m80.637µs [3melapsed_secs[0m[2m=[0m8.0637e-5
[2m2025-09-23T15:58:52.538621Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('test-project', 'Test Project', '/test')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m98.231µs [3melapsed_secs[0m[2m=[0m9.8231e-5
[2m2025-09-23T15:58:52.538789Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO processing_operations (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO processing_operations (id, status) VALUES ('test-op', 'running')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m64.372µs [3melapsed_secs[0m[2m=[0m6.4372e-5
[2m2025-09-23T15:58:52.538777Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.544µs [3melapsed_secs[0m[2m=[0m3.5544e-5
[2m2025-09-23T15:58:52.538861Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO collections (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO collections (id, name, project_id) VALUES ('test-collection', 'Test Collection', 'test-project')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m59.513µs [3melapsed_secs[0m[2m=[0m5.9513e-5
[2m2025-09-23T15:58:52.538886Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.539068Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT total_documents, processed_documents, failed_documents, …" [3mdb.statement[0m[2m=[0m"\n\nSELECT total_documents, processed_documents, failed_documents, started_at FROM processing_operations WHERE id = 'test-op'\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m97.997µs [3melapsed_secs[0m[2m=[0m9.7997e-5
[2m2025-09-23T15:58:52.539136Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO collections (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO collections (id, name, project_id) VALUES ('invalid-collection', 'Invalid Collection', 'nonexistent-project')\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m104.938µs [3melapsed_secs[0m[2m=[0m0.000104938
test daemon::state::tests::test_migrations_default_values ... ok
test daemon::state::tests::test_migrations_foreign_keys ... ok
[2m2025-09-23T15:58:52.539428Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.539479Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.540370Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.348129ms [3melapsed_secs[0m[2m=[0m0.001348129
[2m2025-09-23T15:58:52.540445Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m44.269µs [3melapsed_secs[0m[2m=[0m4.4269e-5
[2m2025-09-23T15:58:52.540461Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.894µs [3melapsed_secs[0m[2m=[0m3.8894e-5
[2m2025-09-23T15:58:52.540535Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.540565Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.540652Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.161µs [3melapsed_secs[0m[2m=[0m2.9161e-5
[2m2025-09-23T15:58:52.541566Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m846.486µs [3melapsed_secs[0m[2m=[0m0.000846486
[2m2025-09-23T15:58:52.541598Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m775.666µs [3melapsed_secs[0m[2m=[0m0.000775666
[2m2025-09-23T15:58:52.541616Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m920.377µs [3melapsed_secs[0m[2m=[0m0.000920377
[2m2025-09-23T15:58:52.541866Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m44.214µs [3melapsed_secs[0m[2m=[0m4.4214e-5
[2m2025-09-23T15:58:52.541961Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.323µs [3melapsed_secs[0m[2m=[0m3.0323e-5
[2m2025-09-23T15:58:52.542070Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m293.349µs [3melapsed_secs[0m[2m=[0m0.000293349
[2m2025-09-23T15:58:52.542129Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.542383Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m397.785µs [3melapsed_secs[0m[2m=[0m0.000397785
[2m2025-09-23T15:58:52.542437Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA table_info(processing_operations)" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m9 [3melapsed[0m[2m=[0m195.965µs [3melapsed_secs[0m[2m=[0m0.000195965
[2m2025-09-23T15:58:52.542497Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m427.059µs [3melapsed_secs[0m[2m=[0m0.000427059
test daemon::state::tests::test_migrations_processing_operations_schema ... ok
[2m2025-09-23T15:58:52.542961Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.543431Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.334µs [3melapsed_secs[0m[2m=[0m3.6334e-5
[2m2025-09-23T15:58:52.543460Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m883.953µs [3melapsed_secs[0m[2m=[0m0.000883953
[2m2025-09-23T15:58:52.543501Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m756.674µs [3melapsed_secs[0m[2m=[0m0.000756674
[2m2025-09-23T15:58:52.543539Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.543512Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.543584Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.543909Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project1', 'Project 1', '/same/path')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m199.676µs [3melapsed_secs[0m[2m=[0m0.000199676
[2m2025-09-23T15:58:52.543931Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA table_info(projects)" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m8 [3melapsed[0m[2m=[0m262.874µs [3melapsed_secs[0m[2m=[0m0.000262874
test daemon::state::tests::test_migrations_table_schema ... ok
[2m2025-09-23T15:58:52.544195Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m476.605µs [3melapsed_secs[0m[2m=[0m0.000476605
[2m2025-09-23T15:58:52.544352Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.544407Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project2', 'Project 2', '/same/path')\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m312.015µs [3melapsed_secs[0m[2m=[0m0.000312015
test daemon::state::tests::test_migrations_unique_constraints ... ok
[2m2025-09-23T15:58:52.544655Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.849µs [3melapsed_secs[0m[2m=[0m3.5849e-5
[2m2025-09-23T15:58:52.544811Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.545080Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.388µs [3melapsed_secs[0m[2m=[0m3.5388e-5
[2m2025-09-23T15:58:52.545151Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.545244Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.966µs [3melapsed_secs[0m[2m=[0m2.9966e-5
[2m2025-09-23T15:58:52.545290Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m485.167µs [3melapsed_secs[0m[2m=[0m0.000485167
[2m2025-09-23T15:58:52.545316Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.545467Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m193.646µs [3melapsed_secs[0m[2m=[0m0.000193646
[2m2025-09-23T15:58:52.545847Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.499µs [3melapsed_secs[0m[2m=[0m2.9499e-5
[2m2025-09-23T15:58:52.545975Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m507.408µs [3melapsed_secs[0m[2m=[0m0.000507408
[2m2025-09-23T15:58:52.546049Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.546079Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.546090Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m616.99µs [3melapsed_secs[0m[2m=[0m0.00061699
[2m2025-09-23T15:58:52.546201Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m243.319µs [3melapsed_secs[0m[2m=[0m0.000243319
[2m2025-09-23T15:58:52.546447Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.052µs [3melapsed_secs[0m[2m=[0m3.0052e-5
[2m2025-09-23T15:58:52.546493Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m55.649µs [3melapsed_secs[0m[2m=[0m5.5649e-5
[2m2025-09-23T15:58:52.546540Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m164.658µs [3melapsed_secs[0m[2m=[0m0.000164658
[2m2025-09-23T15:58:52.546566Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.546615Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.546733Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m171.213µs [3melapsed_secs[0m[2m=[0m0.000171213
[2m2025-09-23T15:58:52.546808Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m48.727µs [3melapsed_secs[0m[2m=[0m4.8727e-5
[2m2025-09-23T15:58:52.546929Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m227.505µs [3melapsed_secs[0m[2m=[0m0.000227505
test daemon::state::tests::test_pool_access ... ok
[2m2025-09-23T15:58:52.547370Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m454.593µs [3melapsed_secs[0m[2m=[0m0.000454593
[2m2025-09-23T15:58:52.547394Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.012µs [3melapsed_secs[0m[2m=[0m3.5012e-5
[2m2025-09-23T15:58:52.547445Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.547496Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m27.357µs [3melapsed_secs[0m[2m=[0m2.7357e-5
[2m2025-09-23T15:58:52.547570Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.547745Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project0', 'Project 0', '/path/0')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m168.709µs [3melapsed_secs[0m[2m=[0m0.000168709
[2m2025-09-23T15:58:52.547865Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m331.231µs [3melapsed_secs[0m[2m=[0m0.000331231
[2m2025-09-23T15:58:52.548055Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m363.795µs [3melapsed_secs[0m[2m=[0m0.000363795
[2m2025-09-23T15:58:52.548166Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project1', 'Project 1', '/path/1')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m115.897µs [3melapsed_secs[0m[2m=[0m0.000115897
[2m2025-09-23T15:58:52.548304Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m257.949µs [3melapsed_secs[0m[2m=[0m0.000257949
[2m2025-09-23T15:58:52.548348Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.169µs [3melapsed_secs[0m[2m=[0m3.1169e-5
[2m2025-09-23T15:58:52.548383Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.548411Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project2', 'Project 2', '/path/2')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m59.749µs [3melapsed_secs[0m[2m=[0m5.9749e-5
[2m2025-09-23T15:58:52.548573Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m49.199µs [3melapsed_secs[0m[2m=[0m4.9199e-5
[2m2025-09-23T15:58:52.548661Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project3', 'Project 3', '/path/3')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m80.602µs [3melapsed_secs[0m[2m=[0m8.0602e-5
[2m2025-09-23T15:58:52.548696Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m227.967µs [3melapsed_secs[0m[2m=[0m0.000227967
[2m2025-09-23T15:58:52.548734Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m28.013µs [3melapsed_secs[0m[2m=[0m2.8013e-5
test daemon::state::tests::test_multiple_state_instances ... ok
[2m2025-09-23T15:58:52.549494Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO projects (id, …" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO projects (id, name, root_path) VALUES ('project4', 'Project 4', '/path/4')\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m672.829µs [3melapsed_secs[0m[2m=[0m0.000672829
[2m2025-09-23T15:58:52.549741Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT 1" [3mdb.statement[0m[2m=[0m"" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m91.758µs [3melapsed_secs[0m[2m=[0m9.1758e-5
[2m2025-09-23T15:58:52.549856Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.68µs [3melapsed_secs[0m[2m=[0m4.168e-5
[2m2025-09-23T15:58:52.549869Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m986.784µs [3melapsed_secs[0m[2m=[0m0.000986784
test daemon::state::tests::test_pool_state_after_operations ... ok
[2m2025-09-23T15:58:52.549976Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.549989Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.550062Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.550128Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: sqlite::memory:
[2m2025-09-23T15:58:52.550240Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m54.192µs [3melapsed_secs[0m[2m=[0m5.4192e-5
[2m2025-09-23T15:58:52.550406Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m273.653µs [3melapsed_secs[0m[2m=[0m0.000273653
[2m2025-09-23T15:58:52.550460Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.806µs [3melapsed_secs[0m[2m=[0m3.3806e-5
[2m2025-09-23T15:58:52.550470Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.263µs [3melapsed_secs[0m[2m=[0m3.2263e-5
[2m2025-09-23T15:58:52.550568Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.550689Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.16µs [3melapsed_secs[0m[2m=[0m3.616e-5
[2m2025-09-23T15:58:52.550701Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.485µs [3melapsed_secs[0m[2m=[0m3.0485e-5
[2m2025-09-23T15:58:52.550779Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.550934Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m236.148µs [3melapsed_secs[0m[2m=[0m0.000236148
[2m2025-09-23T15:58:52.551085Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT name FROM sqlite_master …" [3mdb.statement[0m[2m=[0m"\n\nSELECT name FROM sqlite_master WHERE type='table' ORDER BY name\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m3 [3melapsed[0m[2m=[0m165.259µs [3melapsed_secs[0m[2m=[0m0.000165259
[2m2025-09-23T15:58:52.551185Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m321.066µs [3melapsed_secs[0m[2m=[0m0.000321066
[2m2025-09-23T15:58:52.551227Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.063µs [3melapsed_secs[0m[2m=[0m3.1063e-5
test daemon::state::tests::test_run_migrations_directly ... ok
[2m2025-09-23T15:58:52.551449Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.551552Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.551746Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m367.063µs [3melapsed_secs[0m[2m=[0m0.000367063
[2m2025-09-23T15:58:52.551757Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m386.812µs [3melapsed_secs[0m[2m=[0m0.000386812
[2m2025-09-23T15:58:52.551822Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.551853Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m28.88µs [3melapsed_secs[0m[2m=[0m2.888e-5
[2m2025-09-23T15:58:52.551935Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test daemon::state::tests::test_run_migrations_logging ... ok
[2m2025-09-23T15:58:52.552160Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.552242Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m305.715µs [3melapsed_secs[0m[2m=[0m0.000305715
[2m2025-09-23T15:58:52.552277Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.552330Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.552371Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m289.638µs [3melapsed_secs[0m[2m=[0m0.000289638
test daemon::state::tests::test_state_debug_formatting ... ok
[2m2025-09-23T15:58:52.552652Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.568µs [3melapsed_secs[0m[2m=[0m3.7568e-5
[2m2025-09-23T15:58:52.552682Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.307µs [3melapsed_secs[0m[2m=[0m3.1307e-5
test daemon::tests::test_daemon_error_handling_invalid_config ... ok
[2m2025-09-23T15:58:52.552752Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.552929Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.553036Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.553131Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m313.202µs [3melapsed_secs[0m[2m=[0m0.000313202
[2m2025-09-23T15:58:52.553308Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m398.274µs [3melapsed_secs[0m[2m=[0m0.000398274
[2m2025-09-23T15:58:52.553468Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.294µs [3melapsed_secs[0m[2m=[0m3.1294e-5
[2m2025-09-23T15:58:52.553552Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.553693Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m275.37µs [3melapsed_secs[0m[2m=[0m0.00027537
[2m2025-09-23T15:58:52.553698Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.339µs [3melapsed_secs[0m[2m=[0m3.1339e-5
[2m2025-09-23T15:58:52.553773Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.553808Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.553878Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m192.123µs [3melapsed_secs[0m[2m=[0m0.000192123
[2m2025-09-23T15:58:52.554040Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m180.098µs [3melapsed_secs[0m[2m=[0m0.000180098
[2m2025-09-23T15:58:52.554204Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.009µs [3melapsed_secs[0m[2m=[0m4.0009e-5
[2m2025-09-23T15:58:52.554458Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m247.724µs [3melapsed_secs[0m[2m=[0m0.000247724
[2m2025-09-23T15:58:52.554523Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.554553Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.554551Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m240.984µs [3melapsed_secs[0m[2m=[0m0.000240984
test daemon::tests::test_daemon_config_access ... ok
[2m2025-09-23T15:58:52.554953Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m164.042µs [3melapsed_secs[0m[2m=[0m0.000164042
[2m2025-09-23T15:58:52.554923Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.555023Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.555031Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.555061Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.555094Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.555116Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.555136Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Stopping daemon services
[2m2025-09-23T15:58:52.555154Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services stopped
[2m2025-09-23T15:58:52.555172Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.555188Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.555204Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Stopping daemon services
[2m2025-09-23T15:58:52.555218Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services stopped
[2m2025-09-23T15:58:52.555234Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.555249Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.555265Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Stopping daemon services
[2m2025-09-23T15:58:52.555281Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services stopped
[2m2025-09-23T15:58:52.555337Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.157µs [3melapsed_secs[0m[2m=[0m3.2157e-5
test daemon::tests::test_daemon_multiple_start_stop_cycles ... ok
[2m2025-09-23T15:58:52.555433Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.555572Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.555673Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.555777Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m198.911µs [3melapsed_secs[0m[2m=[0m0.000198911
[2m2025-09-23T15:58:52.555958Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m28.772µs [3melapsed_secs[0m[2m=[0m2.8772e-5
[2m2025-09-23T15:58:52.556030Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.556058Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.909µs [3melapsed_secs[0m[2m=[0m3.2909e-5
[2m2025-09-23T15:58:52.556574Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m419.465µs [3melapsed_secs[0m[2m=[0m0.000419465
[2m2025-09-23T15:58:52.556613Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m404.281µs [3melapsed_secs[0m[2m=[0m0.000404281
[2m2025-09-23T15:58:52.556866Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.843µs [3melapsed_secs[0m[2m=[0m3.1843e-5
[2m2025-09-23T15:58:52.557026Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m211.491µs [3melapsed_secs[0m[2m=[0m0.000211491
[2m2025-09-23T15:58:52.557112Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.557152Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.557243Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m229.809µs [3melapsed_secs[0m[2m=[0m0.000229809
test daemon::tests::test_daemon_processor_access ... ok
[2m2025-09-23T15:58:52.557520Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.557647Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.557638Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m164.633µs [3melapsed_secs[0m[2m=[0m0.000164633
[2m2025-09-23T15:58:52.557728Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.557758Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
test daemon::tests::test_daemon_processor_arc_sharing ... ok
[2m2025-09-23T15:58:52.558042Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.558143Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.558131Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.336µs [3melapsed_secs[0m[2m=[0m3.1336e-5
[2m2025-09-23T15:58:52.558221Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.558461Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.908µs [3melapsed_secs[0m[2m=[0m3.1908e-5
[2m2025-09-23T15:58:52.558542Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.558664Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m315.807µs [3melapsed_secs[0m[2m=[0m0.000315807
[2m2025-09-23T15:58:52.559123Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m382.801µs [3melapsed_secs[0m[2m=[0m0.000382801
[2m2025-09-23T15:58:52.559124Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m51.44µs [3melapsed_secs[0m[2m=[0m5.144e-5
[2m2025-09-23T15:58:52.559523Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.501µs [3melapsed_secs[0m[2m=[0m3.1501e-5
[2m2025-09-23T15:58:52.559588Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m288.632µs [3melapsed_secs[0m[2m=[0m0.000288632
[2m2025-09-23T15:58:52.559898Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m242.421µs [3melapsed_secs[0m[2m=[0m0.000242421
[2m2025-09-23T15:58:52.560043Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m257.157µs [3melapsed_secs[0m[2m=[0m0.000257157
[2m2025-09-23T15:58:52.560112Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.560143Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.560165Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.560183Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.560238Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m150.678µs [3melapsed_secs[0m[2m=[0m0.000150678
[2m2025-09-23T15:58:52.560324Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test daemon::tests::test_daemon_start_disabled_watcher ... ok
[2m2025-09-23T15:58:52.560357Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.560462Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.560482Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.560499Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Stopping daemon services
[2m2025-09-23T15:58:52.560515Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services stopped
test daemon::tests::test_daemon_start_stop_cycle ... ok
[2m2025-09-23T15:58:52.560552Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: true, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.560703Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.560814Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.560913Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.560994Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.022µs [3melapsed_secs[0m[2m=[0m3.0022e-5
[2m2025-09-23T15:58:52.561078Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.561198Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.679µs [3melapsed_secs[0m[2m=[0m3.9679e-5
[2m2025-09-23T15:58:52.561260Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.561446Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m244.78µs [3melapsed_secs[0m[2m=[0m0.00024478
[2m2025-09-23T15:58:52.561617Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m232.074µs [3melapsed_secs[0m[2m=[0m0.000232074
[2m2025-09-23T15:58:52.561708Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m28.293µs [3melapsed_secs[0m[2m=[0m2.8293e-5
[2m2025-09-23T15:58:52.561894Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.833µs [3melapsed_secs[0m[2m=[0m2.9833e-5
[2m2025-09-23T15:58:52.562013Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m168.718µs [3melapsed_secs[0m[2m=[0m0.000168718
[2m2025-09-23T15:58:52.562168Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m164.516µs [3melapsed_secs[0m[2m=[0m0.000164516
[2m2025-09-23T15:58:52.562323Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m149.008µs [3melapsed_secs[0m[2m=[0m0.000149008
[2m2025-09-23T15:58:52.562406Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.562435Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.562473Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.562494Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Starting daemon services
[2m2025-09-23T15:58:52.562518Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.562522Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m181.488µs [3melapsed_secs[0m[2m=[0m0.000181488
[2m2025-09-23T15:58:52.562542Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m File watcher started
[2m2025-09-23T15:58:52.562580Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services started successfully
[2m2025-09-23T15:58:52.562603Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Stopping daemon services
[2m2025-09-23T15:58:52.562609Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.562637Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.562664Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.562694Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m File watcher stopped
[2m2025-09-23T15:58:52.562716Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m All daemon services stopped
test daemon::tests::test_daemon_state_access ... ok
test daemon::tests::test_daemon_start_stop_with_watcher ... ok
test daemon::tests::test_daemon_struct_send_sync ... ok
[2m2025-09-23T15:58:52.563221Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.563354Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.563261Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.563401Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.563721Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.547µs [3melapsed_secs[0m[2m=[0m3.6547e-5
[2m2025-09-23T15:58:52.563745Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.332µs [3melapsed_secs[0m[2m=[0m3.8332e-5
[2m2025-09-23T15:58:52.563824Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.563851Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.564467Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m481.791µs [3melapsed_secs[0m[2m=[0m0.000481791
[2m2025-09-23T15:58:52.564617Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m643.007µs [3melapsed_secs[0m[2m=[0m0.000643007
[2m2025-09-23T15:58:52.564785Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.147µs [3melapsed_secs[0m[2m=[0m3.7147e-5
[2m2025-09-23T15:58:52.564959Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.28µs [3melapsed_secs[0m[2m=[0m4.128e-5
[2m2025-09-23T15:58:52.565084Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m162.803µs [3melapsed_secs[0m[2m=[0m0.000162803
[2m2025-09-23T15:58:52.565378Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m265.675µs [3melapsed_secs[0m[2m=[0m0.000265675
[2m2025-09-23T15:58:52.565556Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m255.407µs [3melapsed_secs[0m[2m=[0m0.000255407
[2m2025-09-23T15:58:52.565650Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.565685Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.565769Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m177.28µs [3melapsed_secs[0m[2m=[0m0.00017728
test daemon::tests::test_workspace_daemon_debug_format ... ok
[2m2025-09-23T15:58:52.565869Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.565955Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.565983Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: true, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.566073Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.566098Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.566222Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.566406Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.298µs [3melapsed_secs[0m[2m=[0m4.0298e-5
[2m2025-09-23T15:58:52.566485Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.566570Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.783µs [3melapsed_secs[0m[2m=[0m3.5783e-5
[2m2025-09-23T15:58:52.566666Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test daemon::tests::test_daemon_concurrent_state_access ... ok
[2m2025-09-23T15:58:52.567168Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m553.713µs [3melapsed_secs[0m[2m=[0m0.000553713
[2m2025-09-23T15:58:52.567178Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 1000, connection_timeout_secs: 30, request_timeout_secs: 300, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 100, max_file_size_bytes: 1000000, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: true, debounce_ms: 500, max_watched_dirs: 100, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.567288Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.567484Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m668.071µs [3melapsed_secs[0m[2m=[0m0.000668071
[2m2025-09-23T15:58:52.567521Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m47.897µs [3melapsed_secs[0m[2m=[0m4.7897e-5
[2m2025-09-23T15:58:52.567590Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.558µs [3melapsed_secs[0m[2m=[0m2.9558e-5
[2m2025-09-23T15:58:52.567671Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.568009Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.091µs [3melapsed_secs[0m[2m=[0m3.2091e-5
[2m2025-09-23T15:58:52.568073Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m421.493µs [3melapsed_secs[0m[2m=[0m0.000421493
[2m2025-09-23T15:58:52.568192Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m405.389µs [3melapsed_secs[0m[2m=[0m0.000405389
[2m2025-09-23T15:58:52.568475Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m304.093µs [3melapsed_secs[0m[2m=[0m0.000304093
[2m2025-09-23T15:58:52.568640Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m378.351µs [3melapsed_secs[0m[2m=[0m0.000378351
[2m2025-09-23T15:58:52.568647Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.438µs [3melapsed_secs[0m[2m=[0m3.7438e-5
[2m2025-09-23T15:58:52.568716Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.568758Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.568791Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::tests::test_daemon_watcher_option_handling ... ok
[2m2025-09-23T15:58:52.569268Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.569316Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.569345Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.569400Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.569434Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.569456Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.569478Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: false)
[2m2025-09-23T15:58:52.569513Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m File watcher is disabled
[2m2025-09-23T15:58:52.569557Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.569594Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: false)
[2m2025-09-23T15:58:52.569622Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m File watcher is disabled
[2m2025-09-23T15:58:52.569639Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.569671Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m979.481µs [3melapsed_secs[0m[2m=[0m0.000979481
test daemon::watcher::tests::test_file_watcher_all_config_combinations ... ok
[2m2025-09-23T15:58:52.569757Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.569869Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.569924Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.120144ms [3melapsed_secs[0m[2m=[0m0.001120144
test daemon::tests::test_workspace_daemon_new_success ... ok
[2m2025-09-23T15:58:52.570033Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.570116Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp
[2m2025-09-23T15:58:52.570152Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp
[2m2025-09-23T15:58:52.570171Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/subdir
[2m2025-09-23T15:58:52.570187Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/subdir
[2m2025-09-23T15:58:52.570202Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: ./relative/path
[2m2025-09-23T15:58:52.570219Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: ./relative/path
[2m2025-09-23T15:58:52.570222Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.570235Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: ../parent/path
[2m2025-09-23T15:58:52.570274Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: ../parent/path
[2m2025-09-23T15:58:52.570294Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /path/with spaces/dir
[2m2025-09-23T15:58:52.570311Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /path/with spaces/dir
[2m2025-09-23T15:58:52.570327Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /path/with-dashes/dir
[2m2025-09-23T15:58:52.570343Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /path/with-dashes/dir
[2m2025-09-23T15:58:52.570365Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /path/with_underscores/dir
[2m2025-09-23T15:58:52.570363Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m173.751µs [3melapsed_secs[0m[2m=[0m0.000173751
[2m2025-09-23T15:58:52.570385Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /path/with_underscores/dir
[2m2025-09-23T15:58:52.570395Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.570433Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /path/with.dots/dir
[2m2025-09-23T15:58:52.570449Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.570501Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.570455Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.570527Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.570558Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.570584Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.570476Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /path/with.dots/dir
[2m2025-09-23T15:58:52.570600Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
test daemon::tests::test_workspace_daemon_new_with_watcher ... [2m2025-09-23T15:58:52.570645Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
ok
[2m2025-09-23T15:58:52.570712Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
test daemon::watcher::tests::test_file_watcher_complex_paths ... ok
[2m2025-09-23T15:58:52.570789Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.570859Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.570876Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.570873Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.570902Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.570960Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.570973Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.571015Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.571031Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.571046Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.571050Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpBken1O
[2m2025-09-23T15:58:52.571090Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.571098Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.571144Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.571172Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.571198Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
test daemon::watcher::tests::test_file_watcher_concurrent_operations ... ok
[2m2025-09-23T15:58:52.571459Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.571494Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.571514Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.571532Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_config_boundary_values ... ok
test daemon::watcher::tests::test_file_watcher_comprehensive_api_coverage ... ok
[2m2025-09-23T15:58:52.571801Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmppdhHpw
test daemon::watcher::tests::test_file_watcher_config_clone ... ok
[2m2025-09-23T15:58:52.571852Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpiHQGKS
[2m2025-09-23T15:58:52.571880Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.571920Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpcfM2cl
[2m2025-09-23T15:58:52.571953Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpZwvsW3
test daemon::watcher::tests::test_file_watcher_config_field_values ... ok
[2m2025-09-23T15:58:52.572002Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.571992Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpwS2lxS
test daemon::watcher::tests::test_file_watcher_debug_format ... ok
[2m2025-09-23T15:58:52.572301Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.572319Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: false)
[2m2025-09-23T15:58:52.572335Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: 
[2m2025-09-23T15:58:52.572366Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m File watcher is disabled
[2m2025-09-23T15:58:52.572381Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: 
test daemon::watcher::tests::test_file_watcher_disabled_logging ... ok
test daemon::watcher::tests::test_file_watcher_empty_path ... ok
[2m2025-09-23T15:58:52.572646Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.572686Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_concurrent_directory_operations ... ok
[2m2025-09-23T15:58:52.572719Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.572779Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.572845Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_ignore_patterns_variations ... ok
[2m2025-09-23T15:58:52.572882Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.572885Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.572950Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.572962Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.572972Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.573001Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.573018Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test daemon::watcher::tests::test_file_watcher_logging_levels ... ok
[2m2025-09-23T15:58:52.573053Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_memory_safety ... ok
[2m2025-09-23T15:58:52.573209Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: false)
[2m2025-09-23T15:58:52.573257Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpsEcPvI
[2m2025-09-23T15:58:52.573260Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_new_disabled ... ok
[2m2025-09-23T15:58:52.573291Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpAsnzOv
[2m2025-09-23T15:58:52.573373Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpsEcPvI
test daemon::watcher::tests::test_file_watcher_new_enabled ... ok
[2m2025-09-23T15:58:52.573401Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpAsnzOv
[2m2025-09-23T15:58:52.573473Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.573542Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_processor_arc_sharing ... ok
[2m2025-09-23T15:58:52.573648Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
[2m2025-09-23T15:58:52.573694Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
[2m2025-09-23T15:58:52.573716Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
test daemon::watcher::tests::test_file_watcher_multiple_directories ... ok
[2m2025-09-23T15:58:52.573741Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
[2m2025-09-23T15:58:52.573791Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.573801Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
[2m2025-09-23T15:58:52.573838Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncwrZL
test daemon::watcher::tests::test_file_watcher_processor_field_access ... ok
[2m2025-09-23T15:58:52.573893Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.573927Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.573948Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test daemon::watcher::tests::test_file_watcher_send_sync ... ok
[2m2025-09-23T15:58:52.573971Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574030Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test daemon::watcher::tests::test_file_watcher_path_as_ref_implementations ... ok
[2m2025-09-23T15:58:52.574053Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574119Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574131Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: false)
[2m2025-09-23T15:58:52.574139Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574168Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m File watcher is disabled
[2m2025-09-23T15:58:52.574181Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574208Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.574217Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574243Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574259Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test daemon::watcher::tests::test_file_watcher_start_disabled ... ok
[2m2025-09-23T15:58:52.574296Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
test daemon::watcher::tests::test_file_watcher_start_enabled ... ok
[2m2025-09-23T15:58:52.574361Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574419Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574435Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574453Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574456Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.574469Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574491Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574519Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574526Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.574537Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574552Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574594Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574609Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574577Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574627Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574630Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574662Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.574656Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.574709Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test daemon::watcher::tests::test_file_watcher_stop ... ok
test daemon::watcher::tests::test_file_watcher_start_stop_multiple_times ... ok
[2m2025-09-23T15:58:52.574973Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.575016Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575020Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.575049Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575088Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575107Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575126Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575144Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
test daemon::watcher::tests::test_file_watcher_struct_debug_format_completeness ... ok
[2m2025-09-23T15:58:52.575170Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575229Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575249Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575270Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
test daemon::watcher::tests::test_file_watcher_trait_implementations ... ok
[2m2025-09-23T15:58:52.575296Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575370Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575394Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575412Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575430Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575449Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575453Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.575470Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575497Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/русский
[2m2025-09-23T15:58:52.575507Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575531Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575552Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpSWER1j
[2m2025-09-23T15:58:52.575518Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/русский
[2m2025-09-23T15:58:52.575593Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/中文
[2m2025-09-23T15:58:52.575614Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/中文
[2m2025-09-23T15:58:52.575631Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/日本語
[2m2025-09-23T15:58:52.575647Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/日本語
[2m2025-09-23T15:58:52.575666Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/한국어
[2m2025-09-23T15:58:52.575682Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/한국어
[2m2025-09-23T15:58:52.575699Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/ελληνικά
[2m2025-09-23T15:58:52.575715Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/ελληνικά
[2m2025-09-23T15:58:52.575731Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/हिन्दी
[2m2025-09-23T15:58:52.575751Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/हिन्दी
test daemon::watcher::tests::test_file_watcher_rapid_operations ... ok
[2m2025-09-23T15:58:52.575778Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/🚀rocket
[2m2025-09-23T15:58:52.575895Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/🚀rocket
test daemon::watcher::tests::test_file_watcher_unicode_paths ... ok
[2m2025-09-23T15:58:52.575997Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.576175Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpX1vNiK
[2m2025-09-23T15:58:52.576204Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpX1vNiK
[2m2025-09-23T15:58:52.576327Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_unwatch_directory ... ok
[2m2025-09-23T15:58:52.576575Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.576613Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp
test daemon::watcher::tests::test_file_watcher_unwatch_directory_string_path ... ok
[2m2025-09-23T15:58:52.576721Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpDU0s7N
[2m2025-09-23T15:58:52.576921Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_unwatch_directory_logging ... ok
[2m2025-09-23T15:58:52.576962Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
[2m2025-09-23T15:58:52.577107Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /tmp/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
[2m2025-09-23T15:58:52.577171Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_very_long_path ... ok
[2m2025-09-23T15:58:52.577397Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpdPvzbq
[2m2025-09-23T15:58:52.577570Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_watch_directory ... ok
[2m2025-09-23T15:58:52.577800Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.577836Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /tmp
[2m2025-09-23T15:58:52.577832Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpgyV3au
test daemon::watcher::tests::test_file_watcher_watch_directory_string_path ... ok
[2m2025-09-23T15:58:52.578094Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_watch_directory_logging ... ok
test daemon::watcher::tests::test_file_watcher_watcher_field_initialization ... ok
[2m2025-09-23T15:58:52.578315Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.578360Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_with_custom_debounce ... ok
test daemon::watcher::tests::test_file_watcher_with_edge_case_configs ... ok
[2m2025-09-23T15:58:52.578558Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
[2m2025-09-23T15:58:52.578618Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Initializing file watcher (enabled: true)
test daemon::watcher::tests::test_file_watcher_with_ignore_patterns ... ok
test daemon::watcher::tests::test_file_watcher_with_maximal_config ... ok
test error::tests::test_all_error_variants_are_testable ... ok
test error::tests::test_daemon_error_debug ... ok
test error::tests::test_daemon_error_display ... ok
test error::tests::test_daemon_error_from_io_error ... ok
test error::tests::test_daemon_error_from_serde_json_error ... ok
test error::tests::test_daemon_result_type ... ok
test error::tests::test_error_chain ... ok
test error::tests::test_error_source_chain ... ok
test error::tests::test_status_conversion_deadline_exceeded ... ok
test error::tests::test_status_conversion_internal_error ... ok
test error::tests::test_status_conversion_invalid_argument ... ok
test error::tests::test_status_conversion_not_found ... ok
test grpc::middleware::tests::test_connection_info_clone ... ok
[2m2025-09-23T15:58:52.579834Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_0 (total: 1)
test grpc::middleware::tests::test_connection_interceptor_clone ... ok
[2m2025-09-23T15:58:52.579896Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_1 (total: 2)
[2m2025-09-23T15:58:52.580068Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_2 (total: 3)
test grpc::middleware::tests::test_connection_interceptor_debug ... ok
[2m2025-09-23T15:58:52.580137Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_3 (total: 4)
[2m2025-09-23T15:58:52.580245Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_4 (total: 5)
[2m2025-09-23T15:58:52.580276Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: test_client (total: 1)
[2m2025-09-23T15:58:52.580288Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_5 (total: 6)
[2m2025-09-23T15:58:52.580356Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_6 (total: 7)
test grpc::middleware::tests::test_connection_interceptor_intercept_response ... ok
[2m2025-09-23T15:58:52.580402Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_7 (total: 8)
[2m2025-09-23T15:58:52.580465Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_8 (total: 9)
[2m2025-09-23T15:58:52.580504Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client_9 (total: 10)
test grpc::middleware::tests::test_connection_interceptor_intercept_with_client_id ... ok
test grpc::middleware::tests::test_connection_interceptor_intercept_without_client_id ... ok
test grpc::middleware::tests::test_connection_interceptor_new ... ok
test grpc::middleware::tests::test_connection_interceptor_send_sync ... ok
[2m2025-09-23T15:58:52.581082Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client1 (total: 1)
[2m2025-09-23T15:58:52.581168Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpuufcHZ
[2m2025-09-23T15:58:52.581173Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client1 (remaining: 0)
[2m2025-09-23T15:58:52.581205Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpYNNGv9
[2m2025-09-23T15:58:52.581229Z[0m [33m WARN[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Expired connection cleaned up: client1
[2m2025-09-23T15:58:52.581246Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmprYAyBs
[2m2025-09-23T15:58:52.581269Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpyhssWH
test grpc::middleware::tests::test_connection_manager_cleanup_expired_connections ... ok
[2m2025-09-23T15:58:52.581293Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpFmjOXJ
[2m2025-09-23T15:58:52.581352Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpNBYeEW
[2m2025-09-23T15:58:52.581371Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpsFWbS5
[2m2025-09-23T15:58:52.581390Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpHpOStO
[2m2025-09-23T15:58:52.581407Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIXbmeO
[2m2025-09-23T15:58:52.581424Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpojwjVp
[2m2025-09-23T15:58:52.581442Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpdQXBMZ
[2m2025-09-23T15:58:52.581459Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpe4hs4G
[2m2025-09-23T15:58:52.581477Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIFieK1
[2m2025-09-23T15:58:52.581475Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client1 (total: 1)
[2m2025-09-23T15:58:52.581498Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp6kENFv
[2m2025-09-23T15:58:52.581526Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client2 (total: 2)
[2m2025-09-23T15:58:52.581532Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpWAOaCq
[2m2025-09-23T15:58:52.581562Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmplS43Q4
[2m2025-09-23T15:58:52.581580Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpjoDH0q
[2m2025-09-23T15:58:52.581597Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIEz2x6
[2m2025-09-23T15:58:52.581615Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp0MIXty
[2m2025-09-23T15:58:52.581632Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmphSQ7Pm
test grpc::middleware::tests::test_connection_manager_get_stats ... ok
[2m2025-09-23T15:58:52.581656Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp9hwPoG
[2m2025-09-23T15:58:52.581719Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpzbiD9M
[2m2025-09-23T15:58:52.581738Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpoV4giR
[2m2025-09-23T15:58:52.581756Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpVkaKlM
[2m2025-09-23T15:58:52.581775Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpfMIvH1
test grpc::middleware::tests::test_connection_manager_new ... ok
[2m2025-09-23T15:58:52.581798Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpqEN2TJ
[2m2025-09-23T15:58:52.581862Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4gimy4
[2m2025-09-23T15:58:52.581886Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpx1s4aV
[2m2025-09-23T15:58:52.581904Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpRyjXaE
[2m2025-09-23T15:58:52.581916Z[0m [33m WARN[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Rate limit exceeded for client: client1
[2m2025-09-23T15:58:52.581924Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpno5BVx
[2m2025-09-23T15:58:52.581971Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIQAsRf
test grpc::middleware::tests::test_connection_manager_rate_limiting ... ok
[2m2025-09-23T15:58:52.581998Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp0OeIOT
[2m2025-09-23T15:58:52.582080Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpixjnxa
[2m2025-09-23T15:58:52.582102Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpA0UF8G
[2m2025-09-23T15:58:52.582120Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpHSuzvo
[2m2025-09-23T15:58:52.582138Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp07N1wc
[2m2025-09-23T15:58:52.582147Z[0m [33m WARN[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Rate limit exceeded for client: client1
[2m2025-09-23T15:58:52.582157Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpF0hPuL
[2m2025-09-23T15:58:52.582195Z[0m [33m WARN[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Rate limit exceeded for client: client2
[2m2025-09-23T15:58:52.582203Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpME4IDb
[2m2025-09-23T15:58:52.582237Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpaZuwef
test grpc::middleware::tests::test_connection_manager_rate_limiting_different_clients ... [2m2025-09-23T15:58:52.582261Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpTAx5WJ
ok
[2m2025-09-23T15:58:52.582295Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpabf0VW
[2m2025-09-23T15:58:52.582348Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncPNnD
[2m2025-09-23T15:58:52.582368Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpkoKcSP
[2m2025-09-23T15:58:52.582387Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpUlU1Uz
[2m2025-09-23T15:58:52.582405Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmplK5Dc2
[2m2025-09-23T15:58:52.582405Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client1 (total: 1)
[2m2025-09-23T15:58:52.582427Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp9MVRGG
[2m2025-09-23T15:58:52.582458Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client2 (total: 2)
[2m2025-09-23T15:58:52.582462Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4jtkcI
[2m2025-09-23T15:58:52.582488Z[0m [33m WARN[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection limit reached: 2/2
[2m2025-09-23T15:58:52.582515Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpDhGBML
[2m2025-09-23T15:58:52.582539Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpxVFxvV
test grpc::middleware::tests::test_connection_manager_register_connection ... ok
[2m2025-09-23T15:58:52.582567Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Adding directory to watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4q8v7q
[2m2025-09-23T15:58:52.582639Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.582660Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test grpc::middleware::tests::test_connection_manager_send_sync ... ok
[2m2025-09-23T15:58:52.582688Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.582766Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.582788Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.582816Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client1 (total: 1)
[2m2025-09-23T15:58:52.582848Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.582875Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client1 (remaining: 0)
[2m2025-09-23T15:58:52.582897Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.582926Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.582942Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.582956Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.582976Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
test grpc::middleware::tests::test_connection_manager_unregister_connection ... ok
[2m2025-09-23T15:58:52.583008Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583092Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583112Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583127Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583143Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583141Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection registered: client1 (total: 1)
[2m2025-09-23T15:58:52.583165Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583218Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583237Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583255Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583270Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583284Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583298Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583313Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583327Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583341Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583355Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583369Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test grpc::middleware::tests::test_connection_manager_update_activity ... ok
[2m2025-09-23T15:58:52.583394Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583451Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583467Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583482Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test grpc::middleware::tests::test_connection_stats_clone ... ok
[2m2025-09-23T15:58:52.583505Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583560Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583580Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583595Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test grpc::middleware::tests::test_connection_stats_debug ... ok
[2m2025-09-23T15:58:52.583617Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583669Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
[2m2025-09-23T15:58:52.583685Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Starting file watcher
[2m2025-09-23T15:58:52.583699Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Stopping file watcher
test grpc::middleware::tests::test_pool_config_debug ... ok
[2m2025-09-23T15:58:52.583720Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpuufcHZ
[2m2025-09-23T15:58:52.583773Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpYNNGv9
[2m2025-09-23T15:58:52.583792Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmprYAyBs
test grpc::middleware::tests::test_pool_config_default ... ok
[2m2025-09-23T15:58:52.583819Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpyhssWH
[2m2025-09-23T15:58:52.583873Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpFmjOXJ
[2m2025-09-23T15:58:52.583892Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpNBYeEW
[2m2025-09-23T15:58:52.583910Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpsFWbS5
[2m2025-09-23T15:58:52.583928Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpHpOStO
test grpc::middleware::tests::test_rate_limiter_debug ... ok
[2m2025-09-23T15:58:52.583945Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIXbmeO
[2m2025-09-23T15:58:52.584010Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpojwjVp
[2m2025-09-23T15:58:52.584030Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpdQXBMZ
test grpc::middleware::tests::test_retry_config_clone ... ok
[2m2025-09-23T15:58:52.584058Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpe4hs4G
[2m2025-09-23T15:58:52.584121Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIFieK1
[2m2025-09-23T15:58:52.584140Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp6kENFv
[2m2025-09-23T15:58:52.584158Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpWAOaCq
test grpc::middleware::tests::test_retry_config_debug ... ok
[2m2025-09-23T15:58:52.584201Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmplS43Q4
[2m2025-09-23T15:58:52.584255Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpjoDH0q
[2m2025-09-23T15:58:52.584274Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIEz2x6
test grpc::middleware::tests::test_retry_config_default ... ok
[2m2025-09-23T15:58:52.584301Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp0MIXty
[2m2025-09-23T15:58:52.584355Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmphSQ7Pm
[2m2025-09-23T15:58:52.584374Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp9hwPoG
[2m2025-09-23T15:58:52.584392Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpzbiD9M
[2m2025-09-23T15:58:52.584410Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpoV4giR
[2m2025-09-23T15:58:52.584428Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpVkaKlM
[2m2025-09-23T15:58:52.584446Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpfMIvH1
[2m2025-09-23T15:58:52.584463Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpqEN2TJ
[2m2025-09-23T15:58:52.584482Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4gimy4
[2m2025-09-23T15:58:52.584482Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Operation failed (attempt 1/2): "permanent failure"
[2m2025-09-23T15:58:52.584504Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpx1s4aV
[2m2025-09-23T15:58:52.584538Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpRyjXaE
[2m2025-09-23T15:58:52.584557Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpno5BVx
[2m2025-09-23T15:58:52.584575Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpIQAsRf
[2m2025-09-23T15:58:52.584593Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp0OeIOT
[2m2025-09-23T15:58:52.584611Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpixjnxa
[2m2025-09-23T15:58:52.584629Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpA0UF8G
[2m2025-09-23T15:58:52.584649Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpHSuzvo
[2m2025-09-23T15:58:52.584668Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp07N1wc
[2m2025-09-23T15:58:52.584686Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpF0hPuL
[2m2025-09-23T15:58:52.584704Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpME4IDb
[2m2025-09-23T15:58:52.584722Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpaZuwef
[2m2025-09-23T15:58:52.584740Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpTAx5WJ
[2m2025-09-23T15:58:52.584759Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpabf0VW
[2m2025-09-23T15:58:52.584776Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpncPNnD
[2m2025-09-23T15:58:52.584794Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpkoKcSP
[2m2025-09-23T15:58:52.584812Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpUlU1Uz
[2m2025-09-23T15:58:52.584830Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmplK5Dc2
[2m2025-09-23T15:58:52.584848Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp9MVRGG
[2m2025-09-23T15:58:52.584866Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4jtkcI
[2m2025-09-23T15:58:52.584884Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpDhGBML
[2m2025-09-23T15:58:52.584902Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmpxVFxvV
[2m2025-09-23T15:58:52.584919Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::watcher[0m[2m:[0m Removing directory from watch: /var/folders/fs/5hjw3wx951scbxlsl52ytgy40000gn/T/.tmp4q8v7q
[2m2025-09-23T15:58:52.586628Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Operation failed after 2 attempts: "permanent failure"
test grpc::middleware::tests::test_with_retry_final_failure ... ok
[2m2025-09-23T15:58:52.586951Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Operation failed (attempt 1/3): "temporary failure"
test daemon::watcher::tests::test_file_watcher_stress_test ... ok
test grpc::middleware::tests::test_with_retry_success_first_attempt ... ok
test grpc::server::tests::test_grpc_server_address_types ... ok
[2m2025-09-23T15:58:52.589541Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Operation failed (attempt 2/3): "temporary failure"
[2m2025-09-23T15:58:52.589588Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.589693Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.590053Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.738µs [3melapsed_secs[0m[2m=[0m4.0738e-5
[2m2025-09-23T15:58:52.590125Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.590472Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m223.297µs [3melapsed_secs[0m[2m=[0m0.000223297
[2m2025-09-23T15:58:52.590813Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m49.056µs [3melapsed_secs[0m[2m=[0m4.9056e-5
[2m2025-09-23T15:58:52.591234Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m282.17µs [3melapsed_secs[0m[2m=[0m0.00028217
[2m2025-09-23T15:58:52.591554Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m154.879µs [3melapsed_secs[0m[2m=[0m0.000154879
[2m2025-09-23T15:58:52.591628Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.591660Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::server::tests::test_grpc_server_arc_sharing ... ok
[2m2025-09-23T15:58:52.592019Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.592118Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.592421Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.461µs [3melapsed_secs[0m[2m=[0m3.4461e-5
[2m2025-09-23T15:58:52.592491Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.592770Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_0 (remaining: 9)
[2m2025-09-23T15:58:52.592821Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_1 (remaining: 8)
[2m2025-09-23T15:58:52.592825Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m210.339µs [3melapsed_secs[0m[2m=[0m0.000210339
[2m2025-09-23T15:58:52.592854Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_2 (remaining: 7)
[2m2025-09-23T15:58:52.592885Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_3 (remaining: 6)
[2m2025-09-23T15:58:52.592918Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_4 (remaining: 5)
[2m2025-09-23T15:58:52.592948Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_5 (remaining: 4)
[2m2025-09-23T15:58:52.592977Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_6 (remaining: 3)
[2m2025-09-23T15:58:52.593006Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_7 (remaining: 2)
[2m2025-09-23T15:58:52.593035Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_8 (remaining: 1)
[2m2025-09-23T15:58:52.593064Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::middleware[0m[2m:[0m Connection unregistered: client_9 (remaining: 0)
[2m2025-09-23T15:58:52.593063Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m29.144µs [3melapsed_secs[0m[2m=[0m2.9144e-5
test grpc::middleware::tests::test_concurrent_connection_management ... ok
test grpc::middleware::tests::test_with_retry_success_after_failures ... ok
[2m2025-09-23T15:58:52.593354Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m177.635µs [3melapsed_secs[0m[2m=[0m0.000177635
[2m2025-09-23T15:58:52.593367Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.593469Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.593453Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.593555Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.593859Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.164µs [3melapsed_secs[0m[2m=[0m3.4164e-5
[2m2025-09-23T15:58:52.593897Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m314.636µs [3melapsed_secs[0m[2m=[0m0.000314636
[2m2025-09-23T15:58:52.593940Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.593954Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.309µs [3melapsed_secs[0m[2m=[0m3.2309e-5
[2m2025-09-23T15:58:52.593997Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.594026Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.594050Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.594492Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m307.098µs [3melapsed_secs[0m[2m=[0m0.000307098
[2m2025-09-23T15:58:52.594593Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m463.478µs [3melapsed_secs[0m[2m=[0m0.000463478
[2m2025-09-23T15:58:52.594827Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.381µs [3melapsed_secs[0m[2m=[0m4.1381e-5
[2m2025-09-23T15:58:52.594905Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m31.549µs [3melapsed_secs[0m[2m=[0m3.1549e-5
[2m2025-09-23T15:58:52.595190Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m219.626µs [3melapsed_secs[0m[2m=[0m0.000219626
[2m2025-09-23T15:58:52.595337Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m308.307µs [3melapsed_secs[0m[2m=[0m0.000308307
[2m2025-09-23T15:58:52.595524Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m154.878µs [3melapsed_secs[0m[2m=[0m0.000154878
[2m2025-09-23T15:58:52.595586Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.595616Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.595681Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m177.423µs [3melapsed_secs[0m[2m=[0m0.000177423
[2m2025-09-23T15:58:52.595766Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.595803Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::server::tests::test_grpc_server_connection_manager_initialization ... ok
test grpc::server::tests::test_grpc_server_connection_manager_access ... ok
[2m2025-09-23T15:58:52.596176Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.596291Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.596300Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.596403Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.596617Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.037µs [3melapsed_secs[0m[2m=[0m3.9037e-5
[2m2025-09-23T15:58:52.596697Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.596737Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m54.532µs [3melapsed_secs[0m[2m=[0m5.4532e-5
[2m2025-09-23T15:58:52.596817Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.597324Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m497.867µs [3melapsed_secs[0m[2m=[0m0.000497867
[2m2025-09-23T15:58:52.597408Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m472.376µs [3melapsed_secs[0m[2m=[0m0.000472376
[2m2025-09-23T15:58:52.597654Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m53.966µs [3melapsed_secs[0m[2m=[0m5.3966e-5
[2m2025-09-23T15:58:52.597762Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.823µs [3melapsed_secs[0m[2m=[0m3.6823e-5
[2m2025-09-23T15:58:52.598078Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m277.396µs [3melapsed_secs[0m[2m=[0m0.000277396
[2m2025-09-23T15:58:52.598189Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m269.553µs [3melapsed_secs[0m[2m=[0m0.000269553
[2m2025-09-23T15:58:52.598592Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m204.426µs [3melapsed_secs[0m[2m=[0m0.000204426
[2m2025-09-23T15:58:52.598641Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m342.858µs [3melapsed_secs[0m[2m=[0m0.000342858
[2m2025-09-23T15:58:52.598678Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.598721Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.598719Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.598759Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::server::tests::test_grpc_server_daemon_config_access ... ok
test grpc::server::tests::test_grpc_server_get_connection_stats ... ok
test grpc::server::tests::test_grpc_server_build_server ... ok
test grpc::server::tests::test_grpc_server_send_sync ... ok
[2m2025-09-23T15:58:52.599400Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.599572Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.599442Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.599630Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.599666Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50052, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.599771Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.600361Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.308µs [3melapsed_secs[0m[2m=[0m3.7308e-5
[2m2025-09-23T15:58:52.600373Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m47.53µs [3melapsed_secs[0m[2m=[0m4.753e-5
[2m2025-09-23T15:58:52.600371Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m43.779µs [3melapsed_secs[0m[2m=[0m4.3779e-5
[2m2025-09-23T15:58:52.600451Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.600470Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.600499Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.601936Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.288189ms [3melapsed_secs[0m[2m=[0m0.001288189
[2m2025-09-23T15:58:52.601956Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.290812ms [3melapsed_secs[0m[2m=[0m0.001290812
[2m2025-09-23T15:58:52.601929Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.297588ms [3melapsed_secs[0m[2m=[0m0.001297588
[2m2025-09-23T15:58:52.602303Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.417µs [3melapsed_secs[0m[2m=[0m3.8417e-5
[2m2025-09-23T15:58:52.602334Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.291µs [3melapsed_secs[0m[2m=[0m3.4291e-5
[2m2025-09-23T15:58:52.602383Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m42.381µs [3melapsed_secs[0m[2m=[0m4.2381e-5
[2m2025-09-23T15:58:52.603111Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m599.014µs [3melapsed_secs[0m[2m=[0m0.000599014
[2m2025-09-23T15:58:52.603112Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m655.142µs [3melapsed_secs[0m[2m=[0m0.000655142
[2m2025-09-23T15:58:52.603128Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m650.774µs [3melapsed_secs[0m[2m=[0m0.000650774
[2m2025-09-23T15:58:52.603709Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m395.881µs [3melapsed_secs[0m[2m=[0m0.000395881
[2m2025-09-23T15:58:52.603796Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.603824Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.603856Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m484.005µs [3melapsed_secs[0m[2m=[0m0.000484005
[2m2025-09-23T15:58:52.603899Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m534.388µs [3melapsed_secs[0m[2m=[0m0.000534388
[2m2025-09-23T15:58:52.603939Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.603966Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.603988Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.604040Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::server::tests::test_grpc_server_with_different_ports ... ok
test grpc::server::tests::test_grpc_server_memory_efficiency ... ok
test grpc::server::tests::test_grpc_server_new ... ok
test grpc::server::tests::test_socket_addr_parsing ... ok
[2m2025-09-23T15:58:52.604466Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.604660Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.604521Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.604579Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.604800Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.604833Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.605298Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.155µs [3melapsed_secs[0m[2m=[0m3.4155e-5
[2m2025-09-23T15:58:52.605396Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.605408Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.128µs [3melapsed_secs[0m[2m=[0m4.0128e-5
[2m2025-09-23T15:58:52.605427Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.28µs [3melapsed_secs[0m[2m=[0m4.028e-5
[2m2025-09-23T15:58:52.605505Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.605542Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.606294Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m741.837µs [3melapsed_secs[0m[2m=[0m0.000741837
[2m2025-09-23T15:58:52.606539Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m853.489µs [3melapsed_secs[0m[2m=[0m0.000853489
[2m2025-09-23T15:58:52.606563Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m905.023µs [3melapsed_secs[0m[2m=[0m0.000905023
[2m2025-09-23T15:58:52.606696Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.514µs [3melapsed_secs[0m[2m=[0m3.5514e-5
[2m2025-09-23T15:58:52.606892Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m48.869µs [3melapsed_secs[0m[2m=[0m4.8869e-5
[2m2025-09-23T15:58:52.606973Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.684µs [3melapsed_secs[0m[2m=[0m3.7684e-5
[2m2025-09-23T15:58:52.607122Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m260.675µs [3melapsed_secs[0m[2m=[0m0.000260675
[2m2025-09-23T15:58:52.607755Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m621.298µs [3melapsed_secs[0m[2m=[0m0.000621298
[2m2025-09-23T15:58:52.607854Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m676.577µs [3melapsed_secs[0m[2m=[0m0.000676577
[2m2025-09-23T15:58:52.607957Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m613.946µs [3melapsed_secs[0m[2m=[0m0.000613946
[2m2025-09-23T15:58:52.608037Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.608069Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.608142Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Cancelling processing operation: test_cancel_operation
[2m2025-09-23T15:58:52.608200Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m249µs [3melapsed_secs[0m[2m=[0m0.000249
[2m2025-09-23T15:58:52.608290Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test grpc::services::document_processor::tests::test_cancel_processing ... ok[2m2025-09-23T15:58:52.608349Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2

[2m2025-09-23T15:58:52.608498Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/concurrent_doc_0.txt"
[2m2025-09-23T15:58:52.608593Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/concurrent_doc_1.txt"
[2m2025-09-23T15:58:52.608621Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m534.663µs [3melapsed_secs[0m[2m=[0m0.000534663
[2m2025-09-23T15:58:52.608649Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/concurrent_doc_2.txt"
[2m2025-09-23T15:58:52.608606Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.608718Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.608740Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.608761Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.608732Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/concurrent_doc_3.txt"
[2m2025-09-23T15:58:52.608830Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Cancelling processing operation: cancel_op_1
[2m2025-09-23T15:58:52.608863Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Cancelling processing operation: cancel_op_2
[2m2025-09-23T15:58:52.608873Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/concurrent_doc_4.txt"
[2m2025-09-23T15:58:52.608895Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Cancelling processing operation: cancel_op_3
test grpc::services::document_processor::tests::test_cancel_processing_multiple_operations ... ok
test grpc::services::document_processor::tests::test_concurrent_document_processing ... ok
test grpc::services::document_processor::tests::test_document_processor_impl_send_sync ... ok
[2m2025-09-23T15:58:52.609330Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.609446Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.627µs [3melapsed_secs[0m[2m=[0m4.1627e-5
[2m2025-09-23T15:58:52.609472Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.609604Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.609562Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.609720Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.610271Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m524.091µs [3melapsed_secs[0m[2m=[0m0.000524091
[2m2025-09-23T15:58:52.610293Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m32.865µs [3melapsed_secs[0m[2m=[0m3.2865e-5
[2m2025-09-23T15:58:52.610315Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.189µs [3melapsed_secs[0m[2m=[0m4.1189e-5
[2m2025-09-23T15:58:52.610375Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.610407Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.610588Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.325µs [3melapsed_secs[0m[2m=[0m3.5325e-5
[2m2025-09-23T15:58:52.611434Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m701.434µs [3melapsed_secs[0m[2m=[0m0.000701434
[2m2025-09-23T15:58:52.611530Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m986.478µs [3melapsed_secs[0m[2m=[0m0.000986478
[2m2025-09-23T15:58:52.611540Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.004863ms [3melapsed_secs[0m[2m=[0m0.001004863
[2m2025-09-23T15:58:52.612140Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m59.864µs [3melapsed_secs[0m[2m=[0m5.9864e-5
[2m2025-09-23T15:58:52.612133Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m475.221µs [3melapsed_secs[0m[2m=[0m0.000475221
[2m2025-09-23T15:58:52.612208Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.273µs [3melapsed_secs[0m[2m=[0m3.8273e-5
[2m2025-09-23T15:58:52.612270Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.612311Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.612356Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: 
[2m2025-09-23T15:58:52.612379Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_file_2.rs
[2m2025-09-23T15:58:52.612449Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_file_3.rs
test daemon::processing::tests::test_processor_configuration_maximal ... ok
[2m2025-09-23T15:58:52.612396Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_1.rs
test daemon::processing::tests::test_processor_configuration_variants ... ok
test daemon::processing::tests::test_process_document ... ok
[2m2025-09-23T15:58:52.612733Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file-with-dashes.py
[2m2025-09-23T15:58:52.612730Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: 文件.py
[2m2025-09-23T15:58:52.612757Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test2.rs
[2m2025-09-23T15:58:52.612770Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m468.915µs [3melapsed_secs[0m[2m=[0m0.000468915
test daemon::processing::tests::test_empty_file_path ... ok
[2m2025-09-23T15:58:52.612759Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.612850Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.613000Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::document_processor::tests::test_document_processor_impl_debug ... [2m2025-09-23T15:58:52.612949Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.612970Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
ok
[2m2025-09-23T15:58:52.613003Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m451.831µs [3melapsed_secs[0m[2m=[0m0.000451831
[2m2025-09-23T15:58:52.613095Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.613106Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
test daemon::processing::tests::test_debug_logging_coverage ... ok
[2m2025-09-23T15:58:52.613281Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.613341Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.613475Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.613504Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.613638Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.613635Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m558.391µs [3melapsed_secs[0m[2m=[0m0.000558391
[2m2025-09-23T15:58:52.613754Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.613794Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::services::document_processor::tests::test_document_processor_impl_new ... ok
[2m2025-09-23T15:58:52.613935Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m58.389µs [3melapsed_secs[0m[2m=[0m5.8389e-5
[2m2025-09-23T15:58:52.614095Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.614087Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m42.623µs [3melapsed_secs[0m[2m=[0m4.2623e-5
[2m2025-09-23T15:58:52.614205Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.614205Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.614341Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.614645Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m43.364µs [3melapsed_secs[0m[2m=[0m4.3364e-5
[2m2025-09-23T15:58:52.614686Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.153µs [3melapsed_secs[0m[2m=[0m3.7153e-5
[2m2025-09-23T15:58:52.614753Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.614807Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.614841Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.382µs [3melapsed_secs[0m[2m=[0m3.7382e-5
[2m2025-09-23T15:58:52.614932Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.615061Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: script.py
[2m2025-09-23T15:58:52.615061Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.663101ms [3melapsed_secs[0m[2m=[0m0.001663101
test daemon::processing::tests::test_very_long_file_path ... ok
[2m2025-09-23T15:58:52.615188Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.615236Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.615291Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: test_operation_123
[2m2025-09-23T15:58:52.615373Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.615450Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m53.338µs [3melapsed_secs[0m[2m=[0m5.3338e-5
test grpc::services::document_processor::tests::test_get_processing_status ... ok
[2m2025-09-23T15:58:52.615458Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.322µs [3melapsed_secs[0m[2m=[0m3.9322e-5
[2m2025-09-23T15:58:52.615588Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.615514Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.615685Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.615760Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.615891Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.617582Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.399µs [3melapsed_secs[0m[2m=[0m3.9399e-5
[2m2025-09-23T15:58:52.617698Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.617691Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m66.707µs [3melapsed_secs[0m[2m=[0m6.6707e-5
[2m2025-09-23T15:58:52.617818Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.619026Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.06785ms [3melapsed_secs[0m[2m=[0m0.00406785
[2m2025-09-23T15:58:52.619318Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.066569ms [3melapsed_secs[0m[2m=[0m0.005066569
[2m2025-09-23T15:58:52.619653Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.286543ms [3melapsed_secs[0m[2m=[0m0.005286543
[2m2025-09-23T15:58:52.619856Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.916699ms [3melapsed_secs[0m[2m=[0m0.004916699
[2m2025-09-23T15:58:52.619873Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.662877ms [3melapsed_secs[0m[2m=[0m0.004662877
[2m2025-09-23T15:58:52.620512Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m45.367µs [3melapsed_secs[0m[2m=[0m4.5367e-5
[2m2025-09-23T15:58:52.620528Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.711611ms [3melapsed_secs[0m[2m=[0m0.004711611
[2m2025-09-23T15:58:52.620636Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.764853ms [3melapsed_secs[0m[2m=[0m0.004764853
[2m2025-09-23T15:58:52.620685Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m42.642µs [3melapsed_secs[0m[2m=[0m4.2642e-5
[2m2025-09-23T15:58:52.621007Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m77.362µs [3melapsed_secs[0m[2m=[0m7.7362e-5
[2m2025-09-23T15:58:52.621138Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.638µs [3melapsed_secs[0m[2m=[0m3.7638e-5
[2m2025-09-23T15:58:52.621581Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.004µs [3melapsed_secs[0m[2m=[0m3.7004e-5
[2m2025-09-23T15:58:52.622076Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.136µs [3melapsed_secs[0m[2m=[0m3.8136e-5
[2m2025-09-23T15:58:52.622091Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.208633ms [3melapsed_secs[0m[2m=[0m0.004208633
[2m2025-09-23T15:58:52.622215Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.714µs [3melapsed_secs[0m[2m=[0m3.9714e-5
[2m2025-09-23T15:58:52.622224Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.24367ms [3melapsed_secs[0m[2m=[0m0.00424367
[2m2025-09-23T15:58:52.623476Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.827µs [3melapsed_secs[0m[2m=[0m3.7827e-5
[2m2025-09-23T15:58:52.623490Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.5821ms [3melapsed_secs[0m[2m=[0m0.0025821
[2m2025-09-23T15:58:52.624012Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.621µs [3melapsed_secs[0m[2m=[0m3.7621e-5
[2m2025-09-23T15:58:52.624035Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.277828ms [3melapsed_secs[0m[2m=[0m0.003277828
[2m2025-09-23T15:58:52.624272Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.925866ms [3melapsed_secs[0m[2m=[0m0.002925866
[2m2025-09-23T15:58:52.624367Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.176666ms [3melapsed_secs[0m[2m=[0m0.003176666
[2m2025-09-23T15:58:52.624767Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.025439ms [3melapsed_secs[0m[2m=[0m0.003025439
[2m2025-09-23T15:58:52.625369Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.984669ms [3melapsed_secs[0m[2m=[0m0.002984669
[2m2025-09-23T15:58:52.625401Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.139487ms [3melapsed_secs[0m[2m=[0m0.003139487
[2m2025-09-23T15:58:52.626726Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.080698ms [3melapsed_secs[0m[2m=[0m0.003080698
[2m2025-09-23T15:58:52.626930Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.174816ms [3melapsed_secs[0m[2m=[0m0.003174816
[2m2025-09-23T15:58:52.626951Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.774502ms [3melapsed_secs[0m[2m=[0m0.002774502
[2m2025-09-23T15:58:52.627022Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.627061Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.627104Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document.txt"
test grpc::services::document_processor::tests::test_process_document_basic ... ok
[2m2025-09-23T15:58:52.627374Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.89173ms [3melapsed_secs[0m[2m=[0m0.00289173
[2m2025-09-23T15:58:52.627431Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.166546ms [3melapsed_secs[0m[2m=[0m0.003166546
[2m2025-09-23T15:58:52.627466Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.627487Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.898719ms [3melapsed_secs[0m[2m=[0m0.002898719
[2m2025-09-23T15:58:52.627524Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.627504Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.627568Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.627606Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document.txt"
[2m2025-09-23T15:58:52.627583Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.627659Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/readme.md"
[2m2025-09-23T15:58:52.627677Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.627547Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.627633Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/timestamp_test.txt"
[2m2025-09-23T15:58:52.627747Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.627718Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: op_1
[2m2025-09-23T15:58:52.627707Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/script.py"
[2m2025-09-23T15:58:52.627815Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: operation_with_underscores_123
[2m2025-09-23T15:58:52.627857Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/code.rs"
[2m2025-09-23T15:58:52.627875Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: uuid-like-operation-456
test grpc::services::document_processor::tests::test_process_document_timestamps ... ok
[2m2025-09-23T15:58:52.627919Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: simple
[2m2025-09-23T15:58:52.627907Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/data.json"
[2m2025-09-23T15:58:52.628050Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/page.html"
test grpc::services::document_processor::tests::test_get_processing_status_different_operation_ids ... ok
test grpc::services::document_processor::tests::test_process_document_different_file_types ... ok
[2m2025-09-23T15:58:52.628168Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.628382Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.628383Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.628522Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.628467Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.628606Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.628619Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.620025ms [3melapsed_secs[0m[2m=[0m0.003620025
[2m2025-09-23T15:58:52.628726Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.628761Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.628796Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_0.txt"
[2m2025-09-23T15:58:52.628841Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_1.txt"
[2m2025-09-23T15:58:52.628886Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_2.txt"
[2m2025-09-23T15:58:52.628923Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_3.txt"
[2m2025-09-23T15:58:52.628964Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_4.txt"
test grpc::services::document_processor::tests::test_process_document_unique_ids ... ok
[2m2025-09-23T15:58:52.629517Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.629647Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.629702Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.078838ms [3melapsed_secs[0m[2m=[0m0.004078838
[2m2025-09-23T15:58:52.629811Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.629865Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.629907Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Getting processing status for: timestamp_test_op
test grpc::services::document_processor::tests::test_processing_status_timestamps ... ok
[2m2025-09-23T15:58:52.630286Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m43.068µs [3melapsed_secs[0m[2m=[0m4.3068e-5
[2m2025-09-23T15:58:52.630426Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.630346Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.630517Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.631180Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.538295ms [3melapsed_secs[0m[2m=[0m0.005538295
[2m2025-09-23T15:58:52.631287Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.631354Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.631411Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::document_processor[0m[2m:[0m Processing document: "/test/document_with_metadata.txt"
test grpc::services::document_processor::tests::test_process_document_with_metadata ... ok
[2m2025-09-23T15:58:52.631772Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.303µs [3melapsed_secs[0m[2m=[0m3.7303e-5
[2m2025-09-23T15:58:52.631884Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.631808Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.631967Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.632045Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m83.835µs [3melapsed_secs[0m[2m=[0m8.3835e-5
[2m2025-09-23T15:58:52.632140Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m46.391µs [3melapsed_secs[0m[2m=[0m4.6391e-5
[2m2025-09-23T15:58:52.632184Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.632273Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.320282ms [3melapsed_secs[0m[2m=[0m0.005320282
[2m2025-09-23T15:58:52.632272Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.632369Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.632410Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.632465Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/document.txt
[2m2025-09-23T15:58:52.632509Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/readme.md
[2m2025-09-23T15:58:52.632543Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/script.py
[2m2025-09-23T15:58:52.632574Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/code.rs
[2m2025-09-23T15:58:52.632607Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/data.json
[2m2025-09-23T15:58:52.632639Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/page.html
test grpc::services::memory_service::tests::test_add_document_different_file_types ... ok
[2m2025-09-23T15:58:52.632836Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m62.567µs [3melapsed_secs[0m[2m=[0m6.2567e-5
[2m2025-09-23T15:58:52.632941Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.632958Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.766076ms [3melapsed_secs[0m[2m=[0m0.005766076
[2m2025-09-23T15:58:52.633090Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.633147Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.633065Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.633269Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.633218Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/document.txt
[2m2025-09-23T15:58:52.633160Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m63.56µs [3melapsed_secs[0m[2m=[0m6.356e-5
test grpc::services::memory_service::tests::test_add_document_basic ... ok
[2m2025-09-23T15:58:52.633583Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.633901Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.634085Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.634501Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.184µs [3melapsed_secs[0m[2m=[0m3.8184e-5
[2m2025-09-23T15:58:52.634602Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.635649Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.527µs [3melapsed_secs[0m[2m=[0m3.9527e-5
[2m2025-09-23T15:58:52.635770Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.637132Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.877µs [3melapsed_secs[0m[2m=[0m4.1877e-5
[2m2025-09-23T15:58:52.637242Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.637640Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m7.007676ms [3melapsed_secs[0m[2m=[0m0.007007676
[2m2025-09-23T15:58:52.638207Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.991988ms [3melapsed_secs[0m[2m=[0m0.005991988
[2m2025-09-23T15:58:52.638362Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.863896ms [3melapsed_secs[0m[2m=[0m0.005863896
[2m2025-09-23T15:58:52.638692Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.281697ms [3melapsed_secs[0m[2m=[0m0.006281697
[2m2025-09-23T15:58:52.638929Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m55.093µs [3melapsed_secs[0m[2m=[0m5.5093e-5
[2m2025-09-23T15:58:52.639116Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.969494ms [3melapsed_secs[0m[2m=[0m0.005969494
[2m2025-09-23T15:58:52.639198Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.246463ms [3melapsed_secs[0m[2m=[0m0.005246463
[2m2025-09-23T15:58:52.639434Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m57.633µs [3melapsed_secs[0m[2m=[0m5.7633e-5
[2m2025-09-23T15:58:52.639830Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.563µs [3melapsed_secs[0m[2m=[0m3.4563e-5
[2m2025-09-23T15:58:52.639937Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.955µs [3melapsed_secs[0m[2m=[0m3.8955e-5
[2m2025-09-23T15:58:52.640194Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.56µs [3melapsed_secs[0m[2m=[0m3.856e-5
[2m2025-09-23T15:58:52.640449Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.479916ms [3melapsed_secs[0m[2m=[0m0.004479916
[2m2025-09-23T15:58:52.640465Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.631443ms [3melapsed_secs[0m[2m=[0m0.005631443
[2m2025-09-23T15:58:52.640658Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m63.281µs [3melapsed_secs[0m[2m=[0m6.3281e-5
[2m2025-09-23T15:58:52.640850Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.442843ms [3melapsed_secs[0m[2m=[0m0.003442843
[2m2025-09-23T15:58:52.641679Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m50.151µs [3melapsed_secs[0m[2m=[0m5.0151e-5
[2m2025-09-23T15:58:52.641845Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.759527ms [3melapsed_secs[0m[2m=[0m0.002759527
[2m2025-09-23T15:58:52.642068Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m59.497µs [3melapsed_secs[0m[2m=[0m5.9497e-5
[2m2025-09-23T15:58:52.642128Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.539707ms [3melapsed_secs[0m[2m=[0m0.002539707
[2m2025-09-23T15:58:52.642199Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.722µs [3melapsed_secs[0m[2m=[0m3.8722e-5
[2m2025-09-23T15:58:52.643096Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.118545ms [3melapsed_secs[0m[2m=[0m0.003118545
[2m2025-09-23T15:58:52.643509Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.410392ms [3melapsed_secs[0m[2m=[0m0.003410392
[2m2025-09-23T15:58:52.643655Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.298574ms [3melapsed_secs[0m[2m=[0m0.003298574
[2m2025-09-23T15:58:52.644011Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.219698ms [3melapsed_secs[0m[2m=[0m0.003219698
[2m2025-09-23T15:58:52.644767Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.921726ms [3melapsed_secs[0m[2m=[0m0.002921726
[2m2025-09-23T15:58:52.645130Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.892434ms [3melapsed_secs[0m[2m=[0m0.002892434
[2m2025-09-23T15:58:52.645287Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.210593ms [3melapsed_secs[0m[2m=[0m0.003210593
[2m2025-09-23T15:58:52.645369Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.645408Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.645465Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/document_with_metadata.txt
[2m2025-09-23T15:58:52.645460Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.100386ms [3melapsed_secs[0m[2m=[0m0.003100386
test grpc::services::memory_service::tests::test_add_document_with_metadata ... ok
[2m2025-09-23T15:58:52.645910Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.646042Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.646268Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.920684ms [3melapsed_secs[0m[2m=[0m0.003920684
[2m2025-09-23T15:58:52.646363Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.646418Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.646482Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: unique_collection_0 for project: test_project
[2m2025-09-23T15:58:52.646535Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: unique_collection_1 for project: test_project
[2m2025-09-23T15:58:52.646577Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: unique_collection_2 for project: test_project
[2m2025-09-23T15:58:52.646619Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: unique_collection_3 for project: test_project
[2m2025-09-23T15:58:52.646666Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: unique_collection_4 for project: test_project
test grpc::services::memory_service::tests::test_collection_unique_ids ... ok
[2m2025-09-23T15:58:52.647074Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.749906ms [3melapsed_secs[0m[2m=[0m0.003749906
[2m2025-09-23T15:58:52.647166Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.434605ms [3melapsed_secs[0m[2m=[0m0.003434605
[2m2025-09-23T15:58:52.647191Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.647263Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.647303Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.647308Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: new_collection for project: test_project
[2m2025-09-23T15:58:52.647347Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.647165Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.647449Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.647495Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/concurrent_doc_0.txt
test grpc::services::memory_service::tests::test_create_collection ... ok
[2m2025-09-23T15:58:52.647575Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.647670Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/concurrent_doc_1.txt
[2m2025-09-23T15:58:52.647715Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.647773Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/concurrent_doc_2.txt
[2m2025-09-23T15:58:52.647820Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.647874Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/concurrent_doc_3.txt
[2m2025-09-23T15:58:52.647754Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.647920Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.647951Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.648025Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/concurrent_doc_4.txt
[2m2025-09-23T15:58:52.648084Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.648263Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.972995ms [3melapsed_secs[0m[2m=[0m0.003972995
test grpc::services::memory_service::tests::test_concurrent_memory_operations ... ok
[2m2025-09-23T15:58:52.648354Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m60.227µs [3melapsed_secs[0m[2m=[0m6.0227e-5
[2m2025-09-23T15:58:52.648394Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.648430Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.648472Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Deleting collection: collection_to_delete for project: test_project (force: false)
[2m2025-09-23T15:58:52.648480Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test grpc::services::memory_service::tests::test_delete_collection ... ok
[2m2025-09-23T15:58:52.648550Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.648684Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.788302ms [3melapsed_secs[0m[2m=[0m0.004788302
[2m2025-09-23T15:58:52.648726Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.648814Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.648863Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.648919Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: collection_0 for project: test_project
[2m2025-09-23T15:58:52.648961Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: collection_1 for project: test_project
[2m2025-09-23T15:58:52.648838Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.649005Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: collection_2 for project: test_project
[2m2025-09-23T15:58:52.649050Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.649069Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Creating collection: collection_3 for project: test_project
test grpc::services::memory_service::tests::test_create_collection_different_configs ... ok
[2m2025-09-23T15:58:52.649433Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.414802ms [3melapsed_secs[0m[2m=[0m0.004414802
[2m2025-09-23T15:58:52.649560Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.649596Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.649640Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Deleting collection: force_delete_collection for project: test_project (force: true)
[2m2025-09-23T15:58:52.649484Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.649715Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::memory_service::tests::test_delete_collection_force ... ok
[2m2025-09-23T15:58:52.650002Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.650130Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.650885Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m47.219µs [3melapsed_secs[0m[2m=[0m4.7219e-5
[2m2025-09-23T15:58:52.650985Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.650982Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.638024ms [3melapsed_secs[0m[2m=[0m0.005638024
[2m2025-09-23T15:58:52.651109Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.651159Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.651232Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Getting document: test_document_123 from collection: test_collection
test grpc::services::memory_service::tests::test_get_document ... ok
test grpc::services::memory_service::tests::test_memory_service_impl_send_sync ... ok
[2m2025-09-23T15:58:52.651673Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m72.038µs [3melapsed_secs[0m[2m=[0m7.2038e-5
[2m2025-09-23T15:58:52.651705Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.939349ms [3melapsed_secs[0m[2m=[0m0.005939349
[2m2025-09-23T15:58:52.651775Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.651793Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m47.165µs [3melapsed_secs[0m[2m=[0m4.7165e-5
[2m2025-09-23T15:58:52.651821Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.651782Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.651907Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.651880Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.651920Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.652001Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/unique_doc_0.txt
[2m2025-09-23T15:58:52.651995Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.962µs [3melapsed_secs[0m[2m=[0m3.3962e-5
[2m2025-09-23T15:58:52.652096Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/unique_doc_1.txt
[2m2025-09-23T15:58:52.652178Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/unique_doc_2.txt
[2m2025-09-23T15:58:52.652192Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.652227Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/unique_doc_3.txt
[2m2025-09-23T15:58:52.652280Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Adding document: /test/unique_doc_4.txt
test grpc::services::memory_service::tests::test_document_unique_ids ... ok
[2m2025-09-23T15:58:52.652512Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m77.989µs [3melapsed_secs[0m[2m=[0m7.7989e-5
[2m2025-09-23T15:58:52.652623Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m72.429µs [3melapsed_secs[0m[2m=[0m7.2429e-5
[2m2025-09-23T15:58:52.652639Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.652728Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.652657Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.652792Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.653814Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m42.879µs [3melapsed_secs[0m[2m=[0m4.2879e-5
[2m2025-09-23T15:58:52.653910Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.654707Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.263µs [3melapsed_secs[0m[2m=[0m3.8263e-5
[2m2025-09-23T15:58:52.654814Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.655010Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.311114ms [3melapsed_secs[0m[2m=[0m0.006311114
[2m2025-09-23T15:58:52.655986Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.83516ms [3melapsed_secs[0m[2m=[0m0.00483516
[2m2025-09-23T15:58:52.656709Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.579285ms [3melapsed_secs[0m[2m=[0m0.004579285
[2m2025-09-23T15:58:52.656879Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.896192ms [3melapsed_secs[0m[2m=[0m0.004896192
[2m2025-09-23T15:58:52.657047Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m46.172µs [3melapsed_secs[0m[2m=[0m4.6172e-5
[2m2025-09-23T15:58:52.657195Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.793µs [3melapsed_secs[0m[2m=[0m3.5793e-5
[2m2025-09-23T15:58:52.657286Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.871586ms [3melapsed_secs[0m[2m=[0m0.004871586
[2m2025-09-23T15:58:52.657316Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.422528ms [3melapsed_secs[0m[2m=[0m0.004422528
[2m2025-09-23T15:58:52.657719Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.858979ms [3melapsed_secs[0m[2m=[0m0.004858979
[2m2025-09-23T15:58:52.657876Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m54.025µs [3melapsed_secs[0m[2m=[0m5.4025e-5
[2m2025-09-23T15:58:52.658357Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.906µs [3melapsed_secs[0m[2m=[0m3.6906e-5
[2m2025-09-23T15:58:52.658471Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.53µs [3melapsed_secs[0m[2m=[0m4.053e-5
[2m2025-09-23T15:58:52.658611Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.551158ms [3melapsed_secs[0m[2m=[0m0.004551158
[2m2025-09-23T15:58:52.658668Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.74µs [3melapsed_secs[0m[2m=[0m3.774e-5
[2m2025-09-23T15:58:52.658907Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m61.021µs [3melapsed_secs[0m[2m=[0m6.1021e-5
[2m2025-09-23T15:58:52.659065Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.072818ms [3melapsed_secs[0m[2m=[0m0.004072818
[2m2025-09-23T15:58:52.659796Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.442839ms [3melapsed_secs[0m[2m=[0m0.002442839
[2m2025-09-23T15:58:52.659901Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.773µs [3melapsed_secs[0m[2m=[0m3.7773e-5
[2m2025-09-23T15:58:52.660249Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.03568ms [3melapsed_secs[0m[2m=[0m0.00303568
[2m2025-09-23T15:58:52.660627Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.461µs [3melapsed_secs[0m[2m=[0m3.9461e-5
[2m2025-09-23T15:58:52.660914Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.285475ms [3melapsed_secs[0m[2m=[0m0.002285475
[2m2025-09-23T15:58:52.661101Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.068628ms [3melapsed_secs[0m[2m=[0m0.003068628
[2m2025-09-23T15:58:52.661694Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.173494ms [3melapsed_secs[0m[2m=[0m0.003173494
[2m2025-09-23T15:58:52.661887Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.073166ms [3melapsed_secs[0m[2m=[0m0.003073166
[2m2025-09-23T15:58:52.662215Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.1583ms [3melapsed_secs[0m[2m=[0m0.0031583
[2m2025-09-23T15:58:52.662953Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.876875ms [3melapsed_secs[0m[2m=[0m0.002876875
[2m2025-09-23T15:58:52.663450Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.392756ms [3melapsed_secs[0m[2m=[0m0.003392756
[2m2025-09-23T15:58:52.663548Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.663588Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.663636Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing collections for project: test_project
[2m2025-09-23T15:58:52.663747Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.241969ms [3melapsed_secs[0m[2m=[0m0.003241969
[2m2025-09-23T15:58:52.663850Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test grpc::services::memory_service::tests::test_list_collections ... ok
[2m2025-09-23T15:58:52.663891Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.663987Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Getting document: timestamp_doc from collection: test_collection
test grpc::services::memory_service::tests::test_get_document_timestamps ... ok
[2m2025-09-23T15:58:52.664113Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50053, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.664294Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.664267Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.124807ms [3melapsed_secs[0m[2m=[0m0.003124807
[2m2025-09-23T15:58:52.664419Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.664433Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.095181ms [3melapsed_secs[0m[2m=[0m0.003095181
[2m2025-09-23T15:58:52.664421Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.626551ms [3melapsed_secs[0m[2m=[0m0.003626551
[2m2025-09-23T15:58:52.664463Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.664411Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.664555Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.664618Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.664606Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.664655Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
test grpc::services::memory_service::tests::test_memory_service_impl_new ... ok
test grpc::services::memory_service::tests::test_list_documents ... ok
[2m2025-09-23T15:58:52.665150Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.665322Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.665097Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.665538Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.665649Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.675858ms [3melapsed_secs[0m[2m=[0m0.003675858
[2m2025-09-23T15:58:52.665700Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.261213ms [3melapsed_secs[0m[2m=[0m0.003261213
[2m2025-09-23T15:58:52.665771Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.665816Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.665858Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing collections for project: project_1
[2m2025-09-23T15:58:52.665782Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.665908Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing collections for project: project_2
[2m2025-09-23T15:58:52.665961Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.665991Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing collections for project: my-awesome-project
[2m2025-09-23T15:58:52.666055Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.932777ms [3melapsed_secs[0m[2m=[0m0.003932777
[2m2025-09-23T15:58:52.666115Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing collections for project: test_project_123
[2m2025-09-23T15:58:52.666212Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.666253Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::services::memory_service::tests::test_memory_service_impl_debug ... [2m2025-09-23T15:58:52.666296Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
ok
[2m2025-09-23T15:58:52.666397Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
test grpc::services::memory_service::tests::test_list_collections_different_projects ... ok
[2m2025-09-23T15:58:52.666499Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.666643Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Listing documents in collection: test_collection
[2m2025-09-23T15:58:52.666637Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.666776Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.666728Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.666874Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::memory_service::tests::test_list_documents_pagination ... ok
[2m2025-09-23T15:58:52.667116Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m103.735µs [3melapsed_secs[0m[2m=[0m0.000103735
[2m2025-09-23T15:58:52.667246Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.667172Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.667304Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.667878Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m70.1µs [3melapsed_secs[0m[2m=[0m7.01e-5
[2m2025-09-23T15:58:52.667985Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.668158Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m51.886µs [3melapsed_secs[0m[2m=[0m5.1886e-5
[2m2025-09-23T15:58:52.668309Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.668671Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.478738ms [3melapsed_secs[0m[2m=[0m0.005478738
[2m2025-09-23T15:58:52.668811Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.668851Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.668915Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Removing document: doc_to_remove from collection: test_collection
[2m2025-09-23T15:58:52.669048Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m75.327µs [3melapsed_secs[0m[2m=[0m7.5327e-5
test grpc::services::memory_service::tests::test_remove_document ... ok
[2m2025-09-23T15:58:52.669160Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.669424Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.669577Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.669717Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.449µs [3melapsed_secs[0m[2m=[0m3.6449e-5
[2m2025-09-23T15:58:52.669828Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.670105Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.682µs [3melapsed_secs[0m[2m=[0m3.5682e-5
[2m2025-09-23T15:58:52.670198Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.670277Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.282µs [3melapsed_secs[0m[2m=[0m3.8282e-5
[2m2025-09-23T15:58:52.670372Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.671218Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.475168ms [3melapsed_secs[0m[2m=[0m0.006475168
[2m2025-09-23T15:58:52.671319Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.671362Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.671408Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Updating document: test_doc_123
[2m2025-09-23T15:58:52.671441Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m48.835µs [3melapsed_secs[0m[2m=[0m4.8835e-5
[2m2025-09-23T15:58:52.671538Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test grpc::services::memory_service::tests::test_update_document_basic ... ok
[2m2025-09-23T15:58:52.671797Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.671940Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.673628Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.121886ms [3melapsed_secs[0m[2m=[0m0.006121886
[2m2025-09-23T15:58:52.673799Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.302µs [3melapsed_secs[0m[2m=[0m3.6302e-5
[2m2025-09-23T15:58:52.673906Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.674485Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.25ms [3melapsed_secs[0m[2m=[0m0.00625
[2m2025-09-23T15:58:52.674645Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.127163ms [3melapsed_secs[0m[2m=[0m0.006127163
[2m2025-09-23T15:58:52.674867Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.442495ms [3melapsed_secs[0m[2m=[0m0.005442495
[2m2025-09-23T15:58:52.675015Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.97108ms [3melapsed_secs[0m[2m=[0m0.00497108
[2m2025-09-23T15:58:52.675119Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.942µs [3melapsed_secs[0m[2m=[0m3.8942e-5
[2m2025-09-23T15:58:52.675407Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.880813ms [3melapsed_secs[0m[2m=[0m0.004880813
[2m2025-09-23T15:58:52.675556Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.19262ms [3melapsed_secs[0m[2m=[0m0.00519262
[2m2025-09-23T15:58:52.675660Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.957424ms [3melapsed_secs[0m[2m=[0m0.003957424
[2m2025-09-23T15:58:52.675759Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.621µs [3melapsed_secs[0m[2m=[0m4.0621e-5
[2m2025-09-23T15:58:52.675784Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m41.096µs [3melapsed_secs[0m[2m=[0m4.1096e-5
[2m2025-09-23T15:58:52.675940Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.071µs [3melapsed_secs[0m[2m=[0m3.5071e-5
[2m2025-09-23T15:58:52.676498Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.584µs [3melapsed_secs[0m[2m=[0m3.7584e-5
[2m2025-09-23T15:58:52.676580Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m53.014µs [3melapsed_secs[0m[2m=[0m5.3014e-5
[2m2025-09-23T15:58:52.676856Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.754µs [3melapsed_secs[0m[2m=[0m3.9754e-5
[2m2025-09-23T15:58:52.676884Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.071µs [3melapsed_secs[0m[2m=[0m3.6071e-5
[2m2025-09-23T15:58:52.677305Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.247077ms [3melapsed_secs[0m[2m=[0m0.003247077
[2m2025-09-23T15:58:52.677927Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.645702ms [3melapsed_secs[0m[2m=[0m0.002645702
[2m2025-09-23T15:58:52.678574Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.639549ms [3melapsed_secs[0m[2m=[0m0.002639549
[2m2025-09-23T15:58:52.678589Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m78.694µs [3melapsed_secs[0m[2m=[0m7.8694e-5
[2m2025-09-23T15:58:52.679020Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.932629ms [3melapsed_secs[0m[2m=[0m0.002932629
[2m2025-09-23T15:58:52.679179Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.222252ms [3melapsed_secs[0m[2m=[0m0.003222252
[2m2025-09-23T15:58:52.679774Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.762101ms [3melapsed_secs[0m[2m=[0m0.002762101
[2m2025-09-23T15:58:52.679804Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.15482ms [3melapsed_secs[0m[2m=[0m0.00315482
[2m2025-09-23T15:58:52.679929Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.888797ms [3melapsed_secs[0m[2m=[0m0.002888797
[2m2025-09-23T15:58:52.680191Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.456402ms [3melapsed_secs[0m[2m=[0m0.003456402
[2m2025-09-23T15:58:52.681329Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.158906ms [3melapsed_secs[0m[2m=[0m0.003158906
[2m2025-09-23T15:58:52.681443Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.681487Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.681536Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::memory_service[0m[2m:[0m Updating document: timestamp_test_doc
test grpc::services::memory_service::tests::test_update_document_timestamp ... ok
[2m2025-09-23T15:58:52.681984Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.682142Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.682191Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.421954ms [3melapsed_secs[0m[2m=[0m0.003421954
[2m2025-09-23T15:58:52.682234Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.405165ms [3melapsed_secs[0m[2m=[0m0.003405165
[2m2025-09-23T15:58:52.682329Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.682374Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.682499Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: concurrent search 0
[2m2025-09-23T15:58:52.682565Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: concurrent search 1
[2m2025-09-23T15:58:52.682617Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: concurrent search 2
[2m2025-09-23T15:58:52.682666Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: concurrent search 3
[2m2025-09-23T15:58:52.682717Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: concurrent search 4
[2m2025-09-23T15:58:52.682837Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.57872ms [3melapsed_secs[0m[2m=[0m0.00357872
[2m2025-09-23T15:58:52.682939Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test grpc::services::search_service::tests::test_concurrent_searches ... ok
[2m2025-09-23T15:58:52.682983Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.683096Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: test
test grpc::services::search_service::tests::test_get_suggestions_basic ... ok
[2m2025-09-23T15:58:52.683255Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.683383Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.683431Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.022323ms [3melapsed_secs[0m[2m=[0m0.004022323
[2m2025-09-23T15:58:52.683534Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.683446Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.683594Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.683629Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.683661Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: suggestion
[2m2025-09-23T15:58:52.683709Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: suggestion
[2m2025-09-23T15:58:52.683753Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: suggestion
[2m2025-09-23T15:58:52.683789Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: suggestion
[2m2025-09-23T15:58:52.683803Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.649294ms [3melapsed_secs[0m[2m=[0m0.003649294
[2m2025-09-23T15:58:52.683824Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: suggestion
[2m2025-09-23T15:58:52.683899Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.683885Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.893687ms [3melapsed_secs[0m[2m=[0m0.003893687
[2m2025-09-23T15:58:52.683942Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.684012Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.982587ms [3melapsed_secs[0m[2m=[0m0.003982587
[2m2025-09-23T15:58:52.684046Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
test grpc::services::search_service::tests::test_get_suggestions_different_limits ... [2m2025-09-23T15:58:52.684112Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
[2m2025-09-23T15:58:52.684064Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.684162Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
[2m2025-09-23T15:58:52.684180Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.684209Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
[2m2025-09-23T15:58:52.684110Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
ok
[2m2025-09-23T15:58:52.684272Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
[2m2025-09-23T15:58:52.684224Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query
[2m2025-09-23T15:58:52.684273Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.684433Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: t
[2m2025-09-23T15:58:52.684434Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.954µs [3melapsed_secs[0m[2m=[0m3.9954e-5
[2m2025-09-23T15:58:52.684484Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: te
test grpc::services::search_service::tests::test_hybrid_search_different_weights ... [2m2025-09-23T15:58:52.684591Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: test
ok[2m2025-09-23T15:58:52.684644Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.234367ms [3melapsed_secs[0m[2m=[0m0.004234367
[2m2025-09-23T15:58:52.684474Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.684638Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: testing
[2m2025-09-23T15:58:52.684587Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations

[2m2025-09-23T15:58:52.684735Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::search_service::tests::test_hybrid_search_basic ... [2m2025-09-23T15:58:52.684780Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: query
[2m2025-09-23T15:58:52.684762Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
ok[2m2025-09-23T15:58:52.684928Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Suggestions requested for: search

[2m2025-09-23T15:58:52.684966Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.685106Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: simple query
[2m2025-09-23T15:58:52.685047Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.685192Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::search_service::tests::test_get_suggestions_different_queries ... ok
[2m2025-09-23T15:58:52.685157Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: complex search with multiple terms
[2m2025-09-23T15:58:52.685271Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.685398Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.685398Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: 特殊字符查询
[2m2025-09-23T15:58:52.685491Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: query with symbols !@#$%
[2m2025-09-23T15:58:52.685522Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.492µs [3melapsed_secs[0m[2m=[0m4.0492e-5
[2m2025-09-23T15:58:52.685567Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: 12345 numeric query
[2m2025-09-23T15:58:52.685510Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.685642Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.685670Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test grpc::services::search_service::tests::test_hybrid_search_different_queries ... ok
test grpc::services::search_service::tests::test_search_service_impl_send_sync ... ok
[2m2025-09-23T15:58:52.686121Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.686250Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.686256Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.322µs [3melapsed_secs[0m[2m=[0m3.7322e-5
[2m2025-09-23T15:58:52.686366Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.687370Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.911526ms [3melapsed_secs[0m[2m=[0m0.004911526
[2m2025-09-23T15:58:52.687460Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.687495Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.687528Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: test query with metadata
test grpc::services::search_service::tests::test_hybrid_search_metadata_validation ... ok
[2m2025-09-23T15:58:52.687943Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.688068Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.688276Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m65.113µs [3melapsed_secs[0m[2m=[0m6.5113e-5
[2m2025-09-23T15:58:52.688336Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m51.886µs [3melapsed_secs[0m[2m=[0m5.1886e-5
[2m2025-09-23T15:58:52.688378Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.688427Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.688897Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m59.485µs [3melapsed_secs[0m[2m=[0m5.9485e-5
[2m2025-09-23T15:58:52.688991Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.689037Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.073µs [3melapsed_secs[0m[2m=[0m3.9073e-5
[2m2025-09-23T15:58:52.689132Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.689318Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.895µs [3melapsed_secs[0m[2m=[0m3.4895e-5
[2m2025-09-23T15:58:52.689454Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.690392Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.471µs [3melapsed_secs[0m[2m=[0m3.8471e-5
[2m2025-09-23T15:58:52.690493Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.691894Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.916921ms [3melapsed_secs[0m[2m=[0m0.006916921
[2m2025-09-23T15:58:52.692125Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.188972ms [3melapsed_secs[0m[2m=[0m0.006188972
[2m2025-09-23T15:58:52.692174Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.569954ms [3melapsed_secs[0m[2m=[0m0.005569954
[2m2025-09-23T15:58:52.693110Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.575775ms [3melapsed_secs[0m[2m=[0m0.004575775
[2m2025-09-23T15:58:52.693218Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.612039ms [3melapsed_secs[0m[2m=[0m0.004612039
[2m2025-09-23T15:58:52.693331Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m65.572µs [3melapsed_secs[0m[2m=[0m6.5572e-5
[2m2025-09-23T15:58:52.693599Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.494µs [3melapsed_secs[0m[2m=[0m3.3494e-5
[2m2025-09-23T15:58:52.693698Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.063µs [3melapsed_secs[0m[2m=[0m3.9063e-5
[2m2025-09-23T15:58:52.693756Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.154157ms [3melapsed_secs[0m[2m=[0m0.004154157
[2m2025-09-23T15:58:52.693892Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.74853ms [3melapsed_secs[0m[2m=[0m0.00474853
[2m2025-09-23T15:58:52.693908Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.622493ms [3melapsed_secs[0m[2m=[0m0.004622493
[2m2025-09-23T15:58:52.694235Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.592684ms [3melapsed_secs[0m[2m=[0m0.003592684
[2m2025-09-23T15:58:52.694460Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m42.422µs [3melapsed_secs[0m[2m=[0m4.2422e-5
[2m2025-09-23T15:58:52.694637Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m52.243µs [3melapsed_secs[0m[2m=[0m5.2243e-5
[2m2025-09-23T15:58:52.694932Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.151µs [3melapsed_secs[0m[2m=[0m3.8151e-5
[2m2025-09-23T15:58:52.695252Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m54.87µs [3melapsed_secs[0m[2m=[0m5.487e-5
[2m2025-09-23T15:58:52.695255Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.164µs [3melapsed_secs[0m[2m=[0m4.0164e-5
[2m2025-09-23T15:58:52.695430Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m52.373µs [3melapsed_secs[0m[2m=[0m5.2373e-5
[2m2025-09-23T15:58:52.696253Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.749682ms [3melapsed_secs[0m[2m=[0m0.002749682
[2m2025-09-23T15:58:52.696721Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.972937ms [3melapsed_secs[0m[2m=[0m0.002972937
[2m2025-09-23T15:58:52.696767Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.908642ms [3melapsed_secs[0m[2m=[0m0.002908642
[2m2025-09-23T15:58:52.697192Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.567179ms [3melapsed_secs[0m[2m=[0m0.002567179
[2m2025-09-23T15:58:52.697862Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.050916ms [3melapsed_secs[0m[2m=[0m0.003050916
[2m2025-09-23T15:58:52.697921Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.834243ms [3melapsed_secs[0m[2m=[0m0.002834243
[2m2025-09-23T15:58:52.698594Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.133291ms [3melapsed_secs[0m[2m=[0m0.003133291
[2m2025-09-23T15:58:52.698730Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.133418ms [3melapsed_secs[0m[2m=[0m0.003133418
[2m2025-09-23T15:58:52.698933Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.509285ms [3melapsed_secs[0m[2m=[0m0.003509285
[2m2025-09-23T15:58:52.699611Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.114624ms [3melapsed_secs[0m[2m=[0m0.003114624
[2m2025-09-23T15:58:52.699710Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.699746Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.699785Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: pagination test
[2m2025-09-23T15:58:52.699835Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: pagination test
[2m2025-09-23T15:58:52.699871Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: pagination test
[2m2025-09-23T15:58:52.699903Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: pagination test
[2m2025-09-23T15:58:52.699940Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: pagination test
test grpc::services::search_service::tests::test_hybrid_search_pagination ... ok
[2m2025-09-23T15:58:52.700376Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.700523Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.700619Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.626425ms [3melapsed_secs[0m[2m=[0m0.003626425
[2m2025-09-23T15:58:52.700717Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.700754Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.700797Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: simple
[2m2025-09-23T15:58:52.700836Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: complex search terms
[2m2025-09-23T15:58:52.700868Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: special!@#$%
[2m2025-09-23T15:58:52.700893Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: numbers123
[2m2025-09-23T15:58:52.700914Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.962997ms [3melapsed_secs[0m[2m=[0m0.003962997
[2m2025-09-23T15:58:52.701009Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
test grpc::services::search_service::tests::test_keyword_search_different_queries ... ok
[2m2025-09-23T15:58:52.701057Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.701173Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: keyword search
test grpc::services::search_service::tests::test_keyword_search_basic ... ok
[2m2025-09-23T15:58:52.701284Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50054, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 2, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.701414Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.946073ms [3melapsed_secs[0m[2m=[0m0.003946073
[2m2025-09-23T15:58:52.701438Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.701488Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.321543ms [3melapsed_secs[0m[2m=[0m0.003321543
[2m2025-09-23T15:58:52.701523Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.701559Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.701576Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.701594Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: structure test
[2m2025-09-23T15:58:52.701614Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.701686Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: multi-collection search
[2m2025-09-23T15:58:52.701569Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.701777Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::search_service::tests::test_search_result_structure ... ok
[2m2025-09-23T15:58:52.701855Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.745533ms [3melapsed_secs[0m[2m=[0m0.003745533
test grpc::services::search_service::tests::test_search_service_multiple_collections ... ok
[2m2025-09-23T15:58:52.702037Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.702140Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.702200Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: limit test search
[2m2025-09-23T15:58:52.702249Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: limit test search
[2m2025-09-23T15:58:52.702288Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: limit test search
[2m2025-09-23T15:58:52.702327Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: limit test search
[2m2025-09-23T15:58:52.702364Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Keyword search requested: limit test search
[2m2025-09-23T15:58:52.702247Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.702460Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.702261Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
test grpc::services::search_service::tests::test_keyword_search_with_different_limits ... ok
[2m2025-09-23T15:58:52.702536Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.702804Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.983361ms [3melapsed_secs[0m[2m=[0m0.003983361
[2m2025-09-23T15:58:52.702952Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.702988Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.702850Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.703074Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::search_service::tests::test_search_service_impl_debug ... ok
[2m2025-09-23T15:58:52.703467Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m86.643µs [3melapsed_secs[0m[2m=[0m8.6643e-5
[2m2025-09-23T15:58:52.703586Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.63543ms [3melapsed_secs[0m[2m=[0m0.00463543
[2m2025-09-23T15:58:52.703487Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.703659Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.703692Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.703736Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.703755Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.602158ms [3melapsed_secs[0m[2m=[0m0.004602158
[2m2025-09-23T15:58:52.703620Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.703779Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Hybrid search requested: timestamp test
[2m2025-09-23T15:58:52.703876Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.703936Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
test grpc::services::search_service::tests::test_search_timestamps ... ok
test grpc::services::search_service::tests::test_search_service_impl_new ... ok
[2m2025-09-23T15:58:52.704362Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.704491Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.704516Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.704706Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.705367Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m79.553µs [3melapsed_secs[0m[2m=[0m7.9553e-5
[2m2025-09-23T15:58:52.705477Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.705662Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.762µs [3melapsed_secs[0m[2m=[0m3.7762e-5
[2m2025-09-23T15:58:52.705742Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.758µs [3melapsed_secs[0m[2m=[0m3.6758e-5
[2m2025-09-23T15:58:52.705781Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.705856Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.706340Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m72.659µs [3melapsed_secs[0m[2m=[0m7.2659e-5
[2m2025-09-23T15:58:52.706359Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m52.496µs [3melapsed_secs[0m[2m=[0m5.2496e-5
[2m2025-09-23T15:58:52.706451Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.706477Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.706956Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.039µs [3melapsed_secs[0m[2m=[0m3.5039e-5
[2m2025-09-23T15:58:52.707060Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.707190Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.464µs [3melapsed_secs[0m[2m=[0m3.7464e-5
[2m2025-09-23T15:58:52.707286Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.707394Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.132µs [3melapsed_secs[0m[2m=[0m3.7132e-5
[2m2025-09-23T15:58:52.707484Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.709462Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.425717ms [3melapsed_secs[0m[2m=[0m0.005425717
[2m2025-09-23T15:58:52.710649Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.33µs [3melapsed_secs[0m[2m=[0m3.933e-5
[2m2025-09-23T15:58:52.710944Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.265334ms [3melapsed_secs[0m[2m=[0m0.005265334
[2m2025-09-23T15:58:52.711015Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.381156ms [3melapsed_secs[0m[2m=[0m0.004381156
[2m2025-09-23T15:58:52.711020Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.020637ms [3melapsed_secs[0m[2m=[0m0.005020637
[2m2025-09-23T15:58:52.711038Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.398666ms [3melapsed_secs[0m[2m=[0m0.004398666
[2m2025-09-23T15:58:52.711264Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.204046ms [3melapsed_secs[0m[2m=[0m0.005204046
[2m2025-09-23T15:58:52.711272Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.054609ms [3melapsed_secs[0m[2m=[0m0.004054609
[2m2025-09-23T15:58:52.711340Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.707576ms [3melapsed_secs[0m[2m=[0m0.003707576
[2m2025-09-23T15:58:52.711533Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.111207ms [3melapsed_secs[0m[2m=[0m0.004111207
[2m2025-09-23T15:58:52.712147Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.896µs [3melapsed_secs[0m[2m=[0m3.7896e-5
[2m2025-09-23T15:58:52.712255Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.851µs [3melapsed_secs[0m[2m=[0m3.6851e-5
[2m2025-09-23T15:58:52.712409Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m48.645µs [3melapsed_secs[0m[2m=[0m4.8645e-5
[2m2025-09-23T15:58:52.712439Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m30.412µs [3melapsed_secs[0m[2m=[0m3.0412e-5
[2m2025-09-23T15:58:52.712487Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m39.903µs [3melapsed_secs[0m[2m=[0m3.9903e-5
[2m2025-09-23T15:58:52.712532Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m45.346µs [3melapsed_secs[0m[2m=[0m4.5346e-5
[2m2025-09-23T15:58:52.712551Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.265µs [3melapsed_secs[0m[2m=[0m3.4265e-5
[2m2025-09-23T15:58:52.712813Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m34.765µs [3melapsed_secs[0m[2m=[0m3.4765e-5
[2m2025-09-23T15:58:52.713209Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.368841ms [3melapsed_secs[0m[2m=[0m0.002368841
[2m2025-09-23T15:58:52.713314Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: very/deep/nested/path/file.py
[2m2025-09-23T15:58:52.713684Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: ファイル.md
test daemon::processing::tests::test_semaphore_limits ... ok
[2m2025-09-23T15:58:52.713898Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file_with_underscores.md
[2m2025-09-23T15:58:52.714120Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.714258Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.714605Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_2.rs
test daemon::processing::tests::test_concurrent_processing ... ok
[2m2025-09-23T15:58:52.714952Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.715107Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.715166Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.854489ms [3melapsed_secs[0m[2m=[0m0.002854489
[2m2025-09-23T15:58:52.715450Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.0201ms [3melapsed_secs[0m[2m=[0m0.0030201
[2m2025-09-23T15:58:52.715714Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.968672ms [3melapsed_secs[0m[2m=[0m0.002968672
[2m2025-09-23T15:58:52.715774Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.073417ms [3melapsed_secs[0m[2m=[0m0.003073417
[2m2025-09-23T15:58:52.715826Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.169559ms [3melapsed_secs[0m[2m=[0m0.003169559
[2m2025-09-23T15:58:52.715963Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.332396ms [3melapsed_secs[0m[2m=[0m0.003332396
[2m2025-09-23T15:58:52.716005Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m55.572µs [3melapsed_secs[0m[2m=[0m5.5572e-5
[2m2025-09-23T15:58:52.716106Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.516627ms [3melapsed_secs[0m[2m=[0m0.003516627
[2m2025-09-23T15:58:52.716145Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.716263Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.293921ms [3melapsed_secs[0m[2m=[0m0.003293921
[2m2025-09-23T15:58:52.716511Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.07255ms [3melapsed_secs[0m[2m=[0m0.00307255
[2m2025-09-23T15:58:52.716621Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.716662Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.716678Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.026µs [3melapsed_secs[0m[2m=[0m4.0026e-5
[2m2025-09-23T15:58:52.716723Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: semantic search query
[2m2025-09-23T15:58:52.716804Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
test grpc::services::search_service::tests::test_semantic_search_basic ... ok
[2m2025-09-23T15:58:52.716974Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: document.md
[2m2025-09-23T15:58:52.717227Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.717357Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.719914Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.153736ms [3melapsed_secs[0m[2m=[0m0.004153736
[2m2025-09-23T15:58:52.720044Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720107Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.720243Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
[2m2025-09-23T15:58:52.720290Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
[2m2025-09-23T15:58:52.720277Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.82417ms [3melapsed_secs[0m[2m=[0m0.00482417
[2m2025-09-23T15:58:52.720320Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.017821ms [3melapsed_secs[0m[2m=[0m0.004017821
[2m2025-09-23T15:58:52.720338Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.720406Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720428Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720458Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 2
[2m2025-09-23T15:58:52.720459Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/project_0
[2m2025-09-23T15:58:52.720486Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.720500Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.420355ms [3melapsed_secs[0m[2m=[0m0.004420355
[2m2025-09-23T15:58:52.720599Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
[2m2025-09-23T15:58:52.720532Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: threshold test
[2m2025-09-23T15:58:52.720582Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.526551ms [3melapsed_secs[0m[2m=[0m0.004526551
[2m2025-09-23T15:58:52.720685Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: threshold test
[2m2025-09-23T15:58:52.720499Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.678µs [3melapsed_secs[0m[2m=[0m4.0678e-5
[2m2025-09-23T15:58:52.720646Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
[2m2025-09-23T15:58:52.720669Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720799Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.720732Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: threshold test
[2m2025-09-23T15:58:52.720748Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720786Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.720895Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.550308ms [3melapsed_secs[0m[2m=[0m0.004550308
[2m2025-09-23T15:58:52.720813Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.720885Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.377466ms [3melapsed_secs[0m[2m=[0m0.004377466
[2m2025-09-23T15:58:52.720904Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.720884Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: threshold test
[2m2025-09-23T15:58:52.721060Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.720594Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /path/to/project
[2m2025-09-23T15:58:52.720949Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/project_1
[2m2025-09-23T15:58:52.720991Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /home/user/project
[2m2025-09-23T15:58:52.720995Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.721040Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.071076ms [3melapsed_secs[0m[2m=[0m0.004071076
[2m2025-09-23T15:58:52.720896Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.740318ms [3melapsed_secs[0m[2m=[0m0.004740318
[2m2025-09-23T15:58:52.721060Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["grpc_requests_total"]
[2m2025-09-23T15:58:52.721085Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::search_service[0m[2m:[0m Semantic search requested: threshold test
[2m2025-09-23T15:58:52.721338Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.721158Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.846645ms [3melapsed_secs[0m[2m=[0m0.004846645
[2m2025-09-23T15:58:52.721196Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
[2m2025-09-23T15:58:52.721220Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /Users/developer/workspace/my-app
[2m2025-09-23T15:58:52.721229Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.721548Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: ./relative/path
[2m2025-09-23T15:58:52.721105Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.721411Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.721495Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
test grpc::services::system_service::tests::test_detect_project ... ok
[2m2025-09-23T15:58:52.721702Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.721576Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["grpc_requests_total"]
[2m2025-09-23T15:58:52.721856Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/project_2
[2m2025-09-23T15:58:52.721676Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /timestamp/test/project
[2m2025-09-23T15:58:52.721603Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: ../parent/project
test grpc::services::system_service::tests::test_get_metrics_basic ... ok[2m2025-09-23T15:58:52.721644Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.721885Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["document_processing_duration_seconds"]
[2m2025-09-23T15:58:52.721982Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /very/deep/nested/project/structure
[2m2025-09-23T15:58:52.722098Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["grpc_requests_total", "document_processing_duration_seconds"]

[2m2025-09-23T15:58:52.721987Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
test grpc::services::search_service::tests::test_semantic_search_different_thresholds ... ok[2m2025-09-23T15:58:52.722144Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: []
[2m2025-09-23T15:58:52.721923Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested

[2m2025-09-23T15:58:52.722307Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["nonexistent_metric"]
[2m2025-09-23T15:58:52.722231Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.722325Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
[2m2025-09-23T15:58:52.722440Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.722380Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.722522Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::system_service::tests::test_detect_project_timestamps ... ok
[2m2025-09-23T15:58:52.722517Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/project_3
test grpc::services::system_service::tests::test_get_config ... [2m2025-09-23T15:58:52.722624Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
ok
[2m2025-09-23T15:58:52.722769Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.722736Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
test grpc::services::system_service::tests::test_detect_project_different_paths ... [2m2025-09-23T15:58:52.722870Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.722942Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
ok
[2m2025-09-23T15:58:52.723006Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
test grpc::services::system_service::tests::test_get_metrics_different_requests ... ok
[2m2025-09-23T15:58:52.723019Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.723045Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration requested
[2m2025-09-23T15:58:52.723247Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.723305Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/project_4
[2m2025-09-23T15:58:52.723241Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.723383Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m54.148µs [3melapsed_secs[0m[2m=[0m5.4148e-5
[2m2025-09-23T15:58:52.723408Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.723370Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.723505Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.723517Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m51.85µs [3melapsed_secs[0m[2m=[0m5.185e-5
test grpc::services::system_service::tests::test_concurrent_system_operations ... ok
[2m2025-09-23T15:58:52.723860Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.724009Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.724133Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.157649ms [3melapsed_secs[0m[2m=[0m0.003157649
[2m2025-09-23T15:58:52.726068Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m70.973µs [3melapsed_secs[0m[2m=[0m7.0973e-5
[2m2025-09-23T15:58:52.726220Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.726397Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.397µs [3melapsed_secs[0m[2m=[0m3.5397e-5
[2m2025-09-23T15:58:52.726485Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.726674Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m51.418µs [3melapsed_secs[0m[2m=[0m5.1418e-5
[2m2025-09-23T15:58:52.726811Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.726815Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m35.457µs [3melapsed_secs[0m[2m=[0m3.5457e-5
[2m2025-09-23T15:58:52.726929Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.726921Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m62.711µs [3melapsed_secs[0m[2m=[0m6.2711e-5
[2m2025-09-23T15:58:52.727041Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.727120Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m50.685µs [3melapsed_secs[0m[2m=[0m5.0685e-5
[2m2025-09-23T15:58:52.727219Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.727394Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.125µs [3melapsed_secs[0m[2m=[0m3.8125e-5
[2m2025-09-23T15:58:52.727410Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.38µs [3melapsed_secs[0m[2m=[0m3.838e-5
[2m2025-09-23T15:58:52.727467Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.196µs [3melapsed_secs[0m[2m=[0m3.6196e-5
[2m2025-09-23T15:58:52.727498Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.727566Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.728411Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.842345ms [3melapsed_secs[0m[2m=[0m0.004842345
[2m2025-09-23T15:58:52.728496Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.782435ms [3melapsed_secs[0m[2m=[0m0.004782435
[2m2025-09-23T15:58:52.731271Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.692703ms [3melapsed_secs[0m[2m=[0m0.003692703
[2m2025-09-23T15:58:52.731873Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.878103ms [3melapsed_secs[0m[2m=[0m0.004878103
[2m2025-09-23T15:58:52.732088Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.416241ms [3melapsed_secs[0m[2m=[0m0.004416241
[2m2025-09-23T15:58:52.732417Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.631169ms [3melapsed_secs[0m[2m=[0m0.005631169
[2m2025-09-23T15:58:52.732434Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m6.052473ms [3melapsed_secs[0m[2m=[0m0.006052473
[2m2025-09-23T15:58:52.732532Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.386841ms [3melapsed_secs[0m[2m=[0m0.005386841
[2m2025-09-23T15:58:52.732567Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.326572ms [3melapsed_secs[0m[2m=[0m0.005326572
[2m2025-09-23T15:58:52.732544Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.910744ms [3melapsed_secs[0m[2m=[0m0.003910744
[2m2025-09-23T15:58:52.732698Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.301829ms [3melapsed_secs[0m[2m=[0m0.005301829
[2m2025-09-23T15:58:52.732747Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.732805Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.732849Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
[2m2025-09-23T15:58:52.733015Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.305253ms [3melapsed_secs[0m[2m=[0m0.004305253
test grpc::services::system_service::tests::test_get_status ... ok
[2m2025-09-23T15:58:52.733138Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.733129Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.400874ms [3melapsed_secs[0m[2m=[0m0.005400874
[2m2025-09-23T15:58:52.733161Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.026µs [3melapsed_secs[0m[2m=[0m4.0026e-5
[2m2025-09-23T15:58:52.733185Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
test grpc::services::system_service::tests::test_system_service_impl_send_sync ... ok
[2m2025-09-23T15:58:52.733304Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["test_metric"]
[2m2025-09-23T15:58:52.733416Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m61.657µs [3melapsed_secs[0m[2m=[0m6.1657e-5
test grpc::services::system_service::tests::test_get_metrics_timestamps ... ok
[2m2025-09-23T15:58:52.733668Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.733800Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.733810Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon[0m[2m:[0m Initializing Workspace Daemon with config: DaemonConfig { server: ServerConfig { host: "127.0.0.1", port: 50051, max_connections: 100, connection_timeout_secs: 30, request_timeout_secs: 60, enable_tls: false }, database: DatabaseConfig { sqlite_path: ":memory:", max_connections: 5, connection_timeout_secs: 30, enable_wal: true }, qdrant: QdrantConfig { url: "http://localhost:6333", api_key: None, timeout_secs: 30, max_retries: 3, default_collection: CollectionConfig { vector_size: 384, distance_metric: "Cosine", enable_indexing: true, replication_factor: 1, shard_number: 1 } }, processing: ProcessingConfig { max_concurrent_tasks: 4, default_chunk_size: 1000, default_chunk_overlap: 200, max_file_size_bytes: 1048576, supported_extensions: ["txt", "md"], enable_lsp: false, lsp_timeout_secs: 10 }, file_watcher: FileWatcherConfig { enabled: false, debounce_ms: 500, max_watched_dirs: 10, ignore_patterns: [], recursive: true }, metrics: MetricsConfig { enabled: false, collection_interval_secs: 60, retention_days: 30, enable_prometheus: false, prometheus_port: 9090 }, logging: LoggingConfig { level: "info", file_path: None, json_format: false, max_file_size_mb: 100, max_files: 5 } }
[2m2025-09-23T15:58:52.733943Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Initializing database at: :memory:
[2m2025-09-23T15:58:52.734185Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.425µs [3melapsed_secs[0m[2m=[0m3.7425e-5
[2m2025-09-23T15:58:52.734218Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m38.365µs [3melapsed_secs[0m[2m=[0m3.8365e-5
[2m2025-09-23T15:58:52.734270Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m69.125µs [3melapsed_secs[0m[2m=[0m6.9125e-5
[2m2025-09-23T15:58:52.734377Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m66.858µs [3melapsed_secs[0m[2m=[0m6.6858e-5
[2m2025-09-23T15:58:52.734497Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m33.174µs [3melapsed_secs[0m[2m=[0m3.3174e-5
[2m2025-09-23T15:58:52.735263Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.241µs [3melapsed_secs[0m[2m=[0m3.6241e-5
[2m2025-09-23T15:58:52.735902Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.387453ms [3melapsed_secs[0m[2m=[0m0.004387453
[2m2025-09-23T15:58:52.735999Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.736040Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.736073Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m System status requested
test grpc::services::system_service::tests::test_get_status_uptime ... ok
[2m2025-09-23T15:58:52.736353Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.985µs [3melapsed_secs[0m[2m=[0m3.6985e-5
[2m2025-09-23T15:58:52.736444Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.736881Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m37.533µs [3melapsed_secs[0m[2m=[0m3.7533e-5
[2m2025-09-23T15:58:52.736969Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Running database migrations
[2m2025-09-23T15:58:52.737638Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.244897ms [3melapsed_secs[0m[2m=[0m0.004244897
[2m2025-09-23T15:58:52.737750Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.123732ms [3melapsed_secs[0m[2m=[0m0.004123732
[2m2025-09-23T15:58:52.738166Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.785601ms [3melapsed_secs[0m[2m=[0m0.003785601
[2m2025-09-23T15:58:52.738878Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.492696ms [3melapsed_secs[0m[2m=[0m0.004492696
[2m2025-09-23T15:58:52.739026Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.36149ms [3melapsed_secs[0m[2m=[0m0.00436149
[2m2025-09-23T15:58:52.739082Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.621319ms [3melapsed_secs[0m[2m=[0m0.004621319
[2m2025-09-23T15:58:52.739273Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.802488ms [3melapsed_secs[0m[2m=[0m0.003802488
[2m2025-09-23T15:58:52.739362Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.786186ms [3melapsed_secs[0m[2m=[0m0.004786186
[2m2025-09-23T15:58:52.741312Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.45048ms [3melapsed_secs[0m[2m=[0m0.00345048
[2m2025-09-23T15:58:52.741433Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.741434Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.457509ms [3melapsed_secs[0m[2m=[0m0.003457509
[2m2025-09-23T15:58:52.741476Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.741540Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
[2m2025-09-23T15:58:52.741548Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.741604Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
test grpc::services::system_service::tests::test_health_check ... ok
test grpc::services::system_service::tests::test_system_service_impl_new ... ok
[2m2025-09-23T15:58:52.741821Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m5.192533ms [3melapsed_secs[0m[2m=[0m0.005192533
[2m2025-09-23T15:58:52.741878Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.563913ms [3melapsed_secs[0m[2m=[0m0.002563913
[2m2025-09-23T15:58:52.741975Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.742009Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.742043Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Health check requested
[2m2025-09-23T15:58:52.742102Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS projects (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                root_path TEXT NOT NULL UNIQUE,\n                git_repository TEXT,\n                git_branch TEXT,\n                metadata TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.977228ms [3melapsed_secs[0m[2m=[0m0.004977228
test grpc::services::system_service::tests::test_health_check_timestamps ... ok
[2m2025-09-23T15:58:52.742384Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.985391ms [3melapsed_secs[0m[2m=[0m0.003985391
[2m2025-09-23T15:58:52.742486Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.742520Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.742559Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project list requested
test grpc::services::system_service::tests::test_list_projects ... ok
[2m2025-09-23T15:58:52.742972Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.720526ms [3melapsed_secs[0m[2m=[0m0.003720526
[2m2025-09-23T15:58:52.743068Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.743105Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.743137Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.044895ms [3melapsed_secs[0m[2m=[0m0.004044895
[2m2025-09-23T15:58:52.743243Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.743285Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
test grpc::services::system_service::tests::test_system_service_impl_debug ... ok
[2m2025-09-23T15:58:52.743342Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m3.755553ms [3melapsed_secs[0m[2m=[0m0.003755553
[2m2025-09-23T15:58:52.743326Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project list requested
[2m2025-09-23T15:58:52.743479Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.743517Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.743565Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/unique_project_0
test grpc::services::system_service::tests::test_list_projects_timestamps ... ok
[2m2025-09-23T15:58:52.743649Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/unique_project_1
[2m2025-09-23T15:58:52.743722Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/unique_project_2
[2m2025-09-23T15:58:52.743774Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/unique_project_3
[2m2025-09-23T15:58:52.743826Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Project detection requested for: /test/unique_project_4
[2m2025-09-23T15:58:52.743838Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m36.804µs [3melapsed_secs[0m[2m=[0m3.6804e-5
[2m2025-09-23T15:58:52.743903Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"PRAGMA foreign_keys = ON; …" [3mdb.statement[0m[2m=[0m"\n\nPRAGMA foreign_keys = ON; \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m40.885µs [3melapsed_secs[0m[2m=[0m4.0885e-5
test grpc::services::system_service::tests::test_project_unique_ids ... ok
[2m2025-09-23T15:58:52.744116Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m4.578827ms [3melapsed_secs[0m[2m=[0m0.004578827
[2m2025-09-23T15:58:52.744210Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.744248Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.744284Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Metrics requested: ["test_metric"]
test grpc::services::system_service::tests::test_metrics_labels_structure ... ok
[2m2025-09-23T15:58:52.746038Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.046552ms [3melapsed_secs[0m[2m=[0m0.002046552
[2m2025-09-23T15:58:52.746070Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS collections (\n                id TEXT PRIMARY KEY,\n                name TEXT NOT NULL,\n                project_id TEXT NOT NULL,\n                config TEXT, -- JSON\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id),\n                UNIQUE (name, project_id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m2.017194ms [3melapsed_secs[0m[2m=[0m0.002017194
[2m2025-09-23T15:58:52.746611Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m349.822µs [3melapsed_secs[0m[2m=[0m0.000349822
[2m2025-09-23T15:58:52.746628Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"CREATE TABLE IF NOT …" [3mdb.statement[0m[2m=[0m"\n\n\n            CREATE TABLE IF NOT EXISTS processing_operations (\n                id TEXT PRIMARY KEY,\n                project_id TEXT,\n                status TEXT NOT NULL,\n                total_documents INTEGER DEFAULT 0,\n                processed_documents INTEGER DEFAULT 0,\n                failed_documents INTEGER DEFAULT 0,\n                error_messages TEXT, -- JSON array\n                started_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n                FOREIGN KEY (project_id) REFERENCES projects (id)\n            )\n        \n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m388.638µs [3melapsed_secs[0m[2m=[0m0.000388638
[2m2025-09-23T15:58:52.746693Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.746716Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::state[0m[2m:[0m Database migrations completed
[2m2025-09-23T15:58:52.746721Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.746752Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Initializing document processor with max concurrent tasks: 4
[2m2025-09-23T15:58:52.746804Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration update requested: {"server.port": "8080", "processing.max_concurrent_tasks": "8"}
[2m2025-09-23T15:58:52.746812Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration update requested: {"qdrant.url": "http://new-host:6333"}
[2m2025-09-23T15:58:52.746863Z[0m [32m INFO[0m [2mworkspace_qdrant_daemon::grpc::services::system_service[0m[2m:[0m Configuration update requires restart
test grpc::services::system_service::tests::test_update_config_basic ... ok
test grpc::services::system_service::tests::test_update_config_restart_required ... ok
[2m2025-09-23T15:58:52.815035Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file with spaces.md
[2m2025-09-23T15:58:52.815035Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: 파일.txt
[2m2025-09-23T15:58:52.815036Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file.with.dots.txt
[2m2025-09-23T15:58:52.817690Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_3.rs
[2m2025-09-23T15:58:52.820356Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: data.json
[2m2025-09-23T15:58:52.916390Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: αρχείο.json
[2m2025-09-23T15:58:52.916390Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file@with#special$chars%.json
[2m2025-09-23T15:58:52.918370Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: αβγ.txt
[2m2025-09-23T15:58:52.919031Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_4.rs
[2m2025-09-23T15:58:52.922113Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: page.html
[2m2025-09-23T15:58:53.018823Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: फ़ाइल.rs
[2m2025-09-23T15:58:53.020324Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file(with)parentheses.rs
[2m2025-09-23T15:58:53.020349Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_5.rs
test daemon::processing::tests::test_complete_processing_pipeline ... ok
test daemon::processing::tests::test_various_file_extensions ... ok
[2m2025-09-23T15:58:53.121691Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file[with]brackets.py
[2m2025-09-23T15:58:53.121691Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: 🚀rocket.py
[2m2025-09-23T15:58:53.123806Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_6.rs
[2m2025-09-23T15:58:53.224203Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: file{with}braces.md
test daemon::processing::tests::test_unicode_file_paths ... ok
[2m2025-09-23T15:58:53.226689Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_7.rs
test daemon::processing::tests::test_special_characters_in_file_path ... ok
[2m2025-09-23T15:58:53.329613Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_8.rs
[2m2025-09-23T15:58:53.433125Z[0m [34mDEBUG[0m [2mworkspace_qdrant_daemon::daemon::processing[0m[2m:[0m Processing document: test_9.rs
test daemon::processing::tests::test_process_document_uuid_generation ... ok

failures:

---- config::tests::test_load_config_no_file stdout ----

thread 'config::tests::test_load_config_no_file' panicked at src/config.rs:554:9:
assertion `left == right` failed
  left: "0.0.0.0"
 right: "127.0.0.1"
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    config::tests::test_load_config_no_file

test result: FAILED. 259 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.03s

[2m2025-09-23T15:58:53.540456Z[0m [31mERROR[0m [2mcargo_tarpaulin[0m[2m:[0m Test failed during run
Error: "Test failed during run"
